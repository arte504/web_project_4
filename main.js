!function(){"use strict";var e={d:function(t,r){for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b7:function(){return _},ED:function(){return d},rC:function(){return c}});class t{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:r,errorMessageClass:s}=this._formConfig,o=this._formElement.querySelector(` #${e.id}_error `);o.textContent=t,o.classList.add(s),e.classList.add(r)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:r}=this._formConfig,s=this._formElement.querySelector(` #${e.id}_error `);s.textContent="",s.classList.remove(r),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,r=this._formElement.querySelector(t);this._checkIfFormValid()?(r.disabled=!1,r.classList.remove(e)):(r.disabled=!0,r.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor({data:e,onCardClick:t,removeHandler:r,likeHandler:s},o,n){this._name=e.name,this._link=e.link,this._owner=e.owner,this._cardTemplateSelector=n,this._likes=e.likes,this._userId=o,this._onCardClick=t,this._likeHandler=s,this._id=e._id,this._removeHandler=r}id(){return this._id}deleteCard(){const e=document.getElementById(id);e&&e.parentNode.removeChild(e),this._cardElement=null}_renderLikes(){this._likes.some((e=>e._id===this._userId))&&this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_active")}showLikes(e){this._cardElement.querySelector(".card__like-count").textContent=e}updateLikes(e){this._likes=e,this._renderLikes()}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._id)})),this._cardImage.addEventListener("click",(e=>{this._onCardClick(e)}))}_showDeleteIcon(){this._owner._id!==this._userId&&this._cardElement.querySelector(".card__delete-button").classList.add("card__delete-button_hidden")}generateCard(){return this._cardTemplate=document.querySelector(this._cardTemplateSelector).content.querySelector(".card"),this._cardElement=this._cardTemplate.cloneNode(!0),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=`Image of  ${this._name} `,this._renderLikes(),this.showLikes(this._likes.length),this._showDeleteIcon(),this._cardElement.id=this._id,this._setEventListeners(),this._item}}class s{constructor(e){this._modalSelector=e,this._checkForEscClose=this._checkForEscClose.bind(this)}_checkForEscClose=e=>{"Escape"===e.key&&this.close()};open=()=>{this._modalSelector.classList.add("modal_visible"),document.addEventListener("keyup",this._checkForEscClose)};close=()=>{this._modalSelector.classList.remove("modal_visible"),document.removeEventListener("keyup",this._checkForEscClose)};setEventListeners(){this._modalSelector.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close-button")||e.target.classList.contains("modal_visible"))&&this.close()}))}}class o extends s{constructor({modalSelector:e,handleSubmit:t}){super(e),this._handleSubmit=t,this._formElement=this._modalSelector.querySelector(".modal__container")}getInputValues(){const e=Array.from(this._formElement.querySelectorAll(".modal__input")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setInputValues(e){Array.from(this._formElement.querySelectorAll(".modal__input")).forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this.getInputValues())}))}setSubmitHandler(e){this._handleSubmit=e}close(){super.close(),this._formElement.reset()}}class n{constructor({items:e,renderer:t},r){this._items=e,this._renderer=t,this._container=document.querySelector(r)}addItem(e){this._container.prepend(e)}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}}class i{constructor(e,t,r){this._name=e,this._job=t,this._avatar=r}getUserInfo(){return this._userInfo={title:this._title.textContent,job:this._job.textContent}}setUserInfo(e,t,r){this._userInfo={title:e,job:t,userAvatar:r},r?(_.src=this._userInfo.userAvatar,c.textContent=this._userInfo.title,d.textContent=this._userInfo.job):(c.textContent=this._userInfo.title,d.textContent=this._userInfo.job)}}const a=document.querySelector(".profile__edit-button"),l=document.querySelector(".modal_type_edit"),c=document.querySelector(".profile__title"),d=(document.querySelector(".modal__input_type_title"),document.querySelector(".profile__subtitle")),_=(document.querySelector(".modal__input_type_subtitle"),document.querySelector(".modal__close-button_type_edit"),document.querySelector(".profile__image")),u=document.querySelector(".profile__image-edit"),h=document.querySelector(".modal_type_avatar"),m=(h.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),b=document.querySelector(".modal_type_add-card"),p=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),f=(p.elements.title,p.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector(".modal_type_big-image")),E=(document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),document.querySelector(".modal_type_delete-card")),y={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"},S=new class extends s{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(f);S.setEventListeners();const k=new o({modalSelector:E});function v(e,t){t.querySelector(".modal__submit-button").textContent=e?"Saving...":"Save"}k.setEventListeners();const g=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getCardList(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json().then((e=>e));Promise.reject("Error!"+e.statusText)}))}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getCardList()])}addCard({name:e,link:t}){return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeCard(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}setUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText+e.status)))}setUserAvatar({avatar:e}){return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}updateUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"}});g.getAppInfo().then((([e,t])=>{const s=new n({items:t,renderer:h},".cards__grid");s.renderItems();const u=new o({modalSelector:b,modalSubmition:e=>{v(!0,b),g.addCard(e).then((e=>{console.log(e),h(e),u.close(),v(!1,b)})).catch((e=>console.log(e)))}});function h(t){const o=new r({data:t,handleCardClick:({name:e,link:t})=>{S.open(t,e)},handleDeleteClick:e=>{k.open(e),k.setSubmitHandler((()=>{g.removeCard(e).then((()=>{o.deleteCardModal(),k.close()})).catch((e=>console.log(e)))}))},likeHandler:e=>{n.querySelector(".card__like-button").classList.contains("card__like-button_active")?g.deleteLike(e).then((e=>{n.querySelector(".card__like-button").classList.remove("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))):(o._cardElement.classList.toggle("card__like-button_active"),g.addLike(e).then((e=>{n.querySelector(".card__like-button").classList.add("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))))}},e._id,".card__template"),n=o.generateCard();s.addItem(n),v(!0,b)}m.addEventListener("click",(()=>{u.open(),v(!1,b)})),u.setEventListeners();const p=new i(c,d,_);g.getUserInfo().then((e=>{p.setUserInfo(e.name,e.job,e.avatar)}));const f=new o({modalSelector:l,modalSubmition:e=>{v(!0,l),g.setUserInfos({name:e.title,job:e.job}).then((e=>{v(!1,l),p.setUserInfo(e.name,e.job),f.close(),console.log(e)})).catch((e=>console.log(e)))}});f.setEventListeners(),a.addEventListener("click",(()=>{f.open();const e=p.getUserInfo();inputName.value=e.title,inputJob.value=e.job}))})).catch((e=>console.log(e)));const L=new o({modalSelector:h,modalSubmition:e=>{!function(e){v(!0,h),g.setUserAvatar({avatar:e.avatarURL}).then((e=>{_.src=e.avatar,v(!1,h),L.close()})).catch((e=>console.log(e)))}(e)}});u.addEventListener("click",(()=>{L.open()})),L.setEventListeners(),new t(y,l).enableValidation(),new t(y,h).enableValidation(),new t(y,b).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SCxLQUFNcUgsRUFBSXZDLEtBQ3RDNEUsRUFBWTlHLFFBQ1pvRyxRQUFRQyxJQUFJNUIsTUFFYjZCLE9BQU1DLEdBQU9ILFFBQVFDLElBQUlFLFFBSTlCTyxFQUFZM0csb0JBRVo0QyxFQUFXdkcsaUJBQWlCLFNBQVMsS0FDbkNzSyxFQUFZN0csT0FDWixNQUFNK0csRUFBT0gsRUFBWXZFLGNBQ3pCMkUsVUFBVW5HLE1BQVFrRyxFQUFLeEUsTUFDdkIwRSxTQUFTcEcsTUFBUWtHLEVBQUs5RSxVQUd6Qm9FLE9BQU1DLEdBQU9ILFFBQVFDLElBQUlFLEtBaUIxQixNQUFNWSxFQUFhLElBQUk1RyxFQUFjLENBQ25DWCxjQUFlc0QsRUFDZmlELGVBQWlCdEosS0FmbkIsU0FBMEJBLEdBQ3hCaUgsR0FBYSxFQUFNWixHQUNuQmUsRUFBSTBCLGNBQWMsQ0FDaEJ4RCxPQUFRdEYsRUFBS3VLLFlBRWQ1QyxNQUFLQyxJQUNKN0IsRUFBWXJELElBQU1rRixFQUFJdEMsT0FDdEIyQixHQUFhLEVBQU9aLEdBQ3BCaUUsRUFBV25ILFdBRVpzRyxPQUFNQyxHQUFPSCxRQUFRQyxJQUFJRSxLQU14QmMsQ0FBaUJ4SyxNQUlyQm9HLEVBQWlCekcsaUJBQWlCLFNBQVMsS0FDekMySyxFQUFXbEgsVUFHYmtILEVBQVdoSCxvQkFJbUIsSUFBSW5HLEVBQWNFLEVBQVk4SSxHQUN0Q3ZHLG1CQUVPLElBQUl6QyxFQUFjRSxFQUFZZ0osR0FDdEN6RyxtQkFFUyxJQUFJekMsRUFBY0UsRUFBWWtKLEdBQ3RDM0csbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9JbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtQ29uZmlnID0gZm9ybUNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIFxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yTWVzc2FnZUNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0lmRm9ybVZhbGlkID0gKCkgPT4gdGhpcy5pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gIF90b2dnbGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGVja0lmRm9ybVZhbGlkKCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgdGhpcy5pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xyXG5cclxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IGRhdGEsIG9uQ2FyZENsaWNrLCByZW1vdmVIYW5kbGVyLCBsaWtlSGFuZGxlciB9LFxyXG4gICAgdXNlcklkLCBjYXJkVGVtcGxhdGVTZWxlY3RvclxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9vd25lciA9IGRhdGEub3duZXI7XHJcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGVTZWxlY3RvciA9IGNhcmRUZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG4gICAgdGhpcy5fb25DYXJkQ2xpY2sgPSBvbkNhcmRDbGljaztcclxuICAgIHRoaXMuX2xpa2VIYW5kbGVyID0gbGlrZUhhbmRsZXI7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fcmVtb3ZlSGFuZGxlciA9IHJlbW92ZUhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBpZCgpe1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxuICAvLyAtLS0gQ2FyZCBkZWxldGluZyBtZXRob2QgLS0tIC8vXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYoY2FyZEVsZW1lbnQpe1xyXG4gICAgICBjYXJkRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhcmRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMaWtlcyAoKXtcclxuICAgIC8vY29uc29sZS5sb2codGhpcy5fbGlrZXMpO1xyXG4gICAgaWYgKHRoaXMuX2xpa2VzLnNvbWUoKGxpa2UpID0+IGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQpKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKS5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICBzaG93TGlrZXMoY291bnQpe1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWNvdW50XCIpLnRleHRDb250ZW50ID0gY291bnQ7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gVG9nZ2xlIGxpa2UgYnV0dG9uIG1ldGhvZCAtLS0gLy9cclxuICB1cGRhdGVMaWtlcyhuZXdMaWtlcykge1xyXG4gICAgdGhpcy5fbGlrZXMgPSBuZXdMaWtlcztcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gU2V0IGV2ZW50cyBsaXN0ZW5lcnMgZm9yIHRoZSBjYXJkcyB0aGF0IHdpbGwgYmUgY3JlYXRlZCEgLS0tIC8vXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLl9saWtlQ2FyZChldmVudCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlSGFuZGxlcih0aGlzLl9pZCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX29uQ2FyZENsaWNrKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dEZWxldGVJY29uKCkge1xyXG4gICAgaWYodGhpcy5fb3duZXIuX2lkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKS5jbGFzc0xpc3QuYWRkKCdjYXJkX19kZWxldGUtYnV0dG9uX2hpZGRlbicpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tIENyZWF0aW5nIHRoZSBjYXJkIGFuZCBjYXJkIGVsZW1lbnRzIC0tLSAvL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFRlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gXCJJbWFnZSBvZiBcIiArIGAgJHt0aGlzLl9uYW1lfSBgO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICAgIHRoaXMuc2hvd0xpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XHJcbiAgICB0aGlzLl9zaG93RGVsZXRlSWNvbigpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuaWQgPSB0aGlzLl9pZDtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9tb2RhbFNlbGVjdG9yID0gbW9kYWxTZWxlY3RvcjtcclxuICAgIHRoaXMuX2NoZWNrRm9yRXNjQ2xvc2UgPSB0aGlzLl9jaGVja0ZvckVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBFU0MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jaGVja0ZvckVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gLS0tIE9wZW4gbW9kYWwgbWV0aG9kIC0tLSAvLyBcclxuICBvcGVuID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbW9kYWxTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwibW9kYWxfdmlzaWJsZVwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9jaGVja0ZvckVzY0Nsb3NlKTtcclxuICB9XHJcbiAgLy8gLS0tIENsb3NlIG1vZGFsIG1ldGhvZCAtLS0gLy9cclxuICBjbG9zZSA9ICgpID0+IHtcclxuICAgIHRoaXMuX21vZGFsU2VsZWN0b3IuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX3Zpc2libGVcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5fY2hlY2tGb3JFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX21vZGFsU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWwnKSB8fFxyXG4gICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2RhbF9fY2xvc2UtYnV0dG9uJykgfHxcclxuICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnbW9kYWxfdmlzaWJsZScpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKHttb2RhbFNlbGVjdG9yLCBoYW5kbGVTdWJtaXR9KSB7XHJcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fbW9kYWxTZWxlY3Rvci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jb250YWluZXJcIik7XHJcbiAgfVxyXG5cclxuICBnZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXHJcbiAgICApO1xyXG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge2lucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7fSk7XHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRJbnB1dFZhbHVlcyh2YWx1ZXMpIHtcclxuICAgIGNvbnN0IGlucHV0TGlzdCA9IEFycmF5LmZyb20oXHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXHJcbiAgICApO1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7aW5wdXQudmFsdWUgPSB2YWx1ZXNbaW5wdXQubmFtZV07fSlcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTsgXHJcblxyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldFN1Ym1pdEhhbmRsZXIoZXZlbnQpIHtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGV2ZW50O1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVzZXQoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG5cclxuICBjbGVhciAoKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcygpIHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIFxyXG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICB0aGlzLl9yZW5kZXJlcihjYXJkKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQge3Byb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBhdmF0YXJJbWFnZX0gZnJvbSAnLi4vLi4vcGFnZXMvSW5kZXguanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKG5hbWUsIGpvYiwgYXZhdGFyKSB7XHJcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcclxuICAgIHRoaXMuX2pvYiA9IGpvYjtcclxuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuICh0aGlzLl91c2VySW5mbyA9IHtcclxuICAgICAgdGl0bGU6IHRoaXMuX3RpdGxlLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odGl0bGUsIGpvYiwgdXNlckF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB7IHRpdGxlLCBqb2IsIHVzZXJBdmF0YXIgfTtcclxuICAgIGlmICh1c2VyQXZhdGFyKSB7XHJcbiAgICAgIGF2YXRhckltYWdlLnNyYyA9IHRoaXMuX3VzZXJJbmZvLnVzZXJBdmF0YXI7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8udGl0bGU7XHJcbiAgICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby5qb2I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLnRpdGxlO1xyXG4gICAgICBwcm9maWxlSm9iLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8uam9iO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyAtLS0gJ0VkaXQgcHJvZmlsZScgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV90aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfc3VidGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfZWRpdCcpO1xyXG4vLyAtLS0gJ0F2YXRhclwiIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJNb2RhbElucHV0ID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2F2YXRhcicpXHJcbi8vIC0tLSAnQWRkLWNhcmQnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbGluaycpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9hZGQtY2FyZCcpO1xyXG4vLyAtLS0gJ0FkZC1DYXJkJyBmb3JtIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1UaXRlbCA9IGFkZENhcmRGb3JtLmVsZW1lbnRzLnRpdGxlO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1MaW5rID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMubGluaztcclxuLy8gLS0tIEdlbmVyYWwgY29uc3QgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3N1Ym1pdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19ncmlkJyk7XHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZS1jYXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2JpZy1pbWFnZScpO1xyXG4vLyAtLS0gJ0RlbGV0ZSBjYXJkJyBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xyXG4vLyAtLS0gRm9ybSBjb25maWcgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19jb250YWluZXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9lcnJvclwiLFxyXG4gIGVycm9yTWVzc2FnZUNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0FwaS5qc1wiXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIHByb2ZpbGVKb2IsXHJcbiAgZWRpdEJ1dHRvbixcclxuICBwcm9maWxlTW9kYWwsXHJcbiAgYWRkQ2FyZEJ1dHRvbixcclxuICBhZGRDYXJkTW9kYWwsXHJcbiAgYXZhdGFyTW9kYWwsXHJcbiAgYXZhdGFySW1hZ2UsXHJcbiAgYXZhdGFyRWRpdEJ1dHRvbixcclxuICBjYXJkQmlnTW9kYWwsXHJcbiAgZGVsZXRlQ2FyZCxcclxuICBmb3JtQ29uZmlnXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLyA9PT09PSBNb2RhbHMgPT09PT0gLy9cclxuLy8gLS0tIEJpZyBpbWFnZSBtb2RhbCBpbnN0YW5jZSAtLS0gLy9cclxuY29uc3QgYmlnSW1hZ2UgPSBuZXcgTW9kYWxXaXRoSW1hZ2UoY2FyZEJpZ01vZGFsKTtcclxuYmlnSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gLS0tIERlbGV0ZSBjYXJkIG1vZGFsIGluc3RhbmNlIGFuZCBldmVudHMgLS0tIC8vXHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICBtb2RhbFNlbGVjdG9yOiBkZWxldGVDYXJkXHJcbn0pO1xyXG5kZWxldGVDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gLS0tIFVYIGZvciBtb2RhbHMgLS0tIC8vXHJcbmZ1bmN0aW9uIGxvYWRpbmdNb2RhbChpc0xvYWRpbmcsIG1vZGFsKSB7XHJcbiAgaWYgKGlzTG9hZGluZykgeyBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjsgfSBcclxuICBlbHNlIHsgbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiOyB9XHJcbn1cclxuXHJcbi8vID09PT09IEFQSSA9PT09PSAvL1xyXG4vLyAtLS0gU2V0dGluZyB0aGUgZGVmYXVsdCBmZXRjaGluZyB1cmwgYW5kIHRva2VuIC0tLSAvL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICBoZWFkZXJzOiBcclxuICB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjcwOWEwZDlkLWRiMDYtNDg5MC1hNTk0LWIwN2U3MzA5YTM1M1wiLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyBcclxuICB9XHJcbn0pO1xyXG4vLyAtLS0gR2V0QXBwSW5mbyBtZXRob2QgLS0tIC8vXHJcbmFwaS5nZXRBcHBJbmZvKCkudGhlbigoW3VzZXJEYXRhLCBjYXJkTGlzdERhdGFdKSA9PiB7XHJcbiAgLy8gLS0tIENhcmRzIHNlY3Rpb24gY3JlYXRpb24gLS0tIC8vXHJcbiAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgaXRlbXM6IGNhcmRMaXN0RGF0YSxcclxuICAgIHJlbmRlcmVyOiBhZGRpbmdOZXdDYXJkXHJcbiAgfSwgJy5jYXJkc19fZ3JpZCcpXHJcbiAgLy8gLS0tIFJlbmRlciBjYXJkcyAtLS0gLy9cclxuICBjYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuICAvLyAtLS0gJ0FkZCBuZXcgY2FyZCcgbW9kYWwgaW5zdGFuY2UgLS0tIC8vXHJcbiAgY29uc3QgYWRkTmV3Q2FyZE1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgbW9kYWxTZWxlY3RvcjogYWRkQ2FyZE1vZGFsLFxyXG4gICAgbW9kYWxTdWJtaXRpb246IChkYXRhKSA9PiB7XHJcbiAgICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBhZGRDYXJkTW9kYWwpO1xyXG4gICAgICBhcGlcclxuICAgICAgICAuYWRkQ2FyZChkYXRhKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICBhZGRpbmdOZXdDYXJkKHJlcyk7XHJcbiAgICAgICAgICBhZGROZXdDYXJkTW9kYWwuY2xvc2UoKTtcclxuICAgICAgICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgYWRkQ2FyZE1vZGFsKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgLy8gLS0tIEFkZCBjYXJkIGJ1dHRvbiBmdW5jdGlvbmFsIGFkZGluZyAtLS0gLy9cclxuICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhZGROZXdDYXJkTW9kYWwub3BlbigpO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBhZGRDYXJkTW9kYWwpO1xyXG4gIH0pO1xyXG4gIGFkZE5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIC8vIC0tLSBOZXcgY2FyZCBhZGRpbmcgLS0tIC8vXHJcbiAgZnVuY3Rpb24gYWRkaW5nTmV3Q2FyZChkYXRhKXtcclxuICAgIGNvbnN0IGNhcmRJbnN0YW5jZSA9IG5ldyBDYXJkKHtkYXRhLCBcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoe25hbWUsIGxpbmt9KSA9PiB7XHJcbiAgICAgICAgYmlnSW1hZ2Uub3BlbihsaW5rLCBuYW1lKX0sIFxyXG4gICAgICBoYW5kbGVEZWxldGVDbGljazogKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZUNhcmRNb2RhbC5vcGVuKGNhcmRJZCk7XHJcbiAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLnNldFN1Ym1pdEhhbmRsZXIoKCkgPT4ge1xyXG4gICAgICAgICAgYXBpLnJlbW92ZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLmRlbGV0ZUNhcmRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgIGRlbGV0ZUNhcmRNb2RhbC5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICBsaWtlSGFuZGxlcjogKGNhcmRJZCkgPT57IFxyXG4gICAgICAgIGlmKGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5jb250YWlucygnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJykpIHsgXHJcbiAgICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpLnRoZW4ocmVzID0+IHsgXHJcbiAgICAgICAgICAgIGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2Uuc2hvd0xpa2VzKHJlcy5saWtlcy5sZW5ndGgpIFxyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2UuX2xpa2VzID0gcmVzLmxpa2VzOyB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKSBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IFxyXG4gICAgICAgICAgY2FyZEluc3RhbmNlLl9jYXJkRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpOyBcclxuICAgICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZCkudGhlbihyZXMgPT4geyBcclxuICAgICAgICAgICAgY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7IFxyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2Uuc2hvd0xpa2VzKHJlcy5saWtlcy5sZW5ndGgpIFxyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2UuX2xpa2VzID0gcmVzLmxpa2VzO30pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpIFxyXG4gICAgICAgIH0gXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1c2VyRGF0YS5faWQsJy5jYXJkX190ZW1wbGF0ZScpIFxyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkSW5zdGFuY2UuZ2VuZXJhdGVDYXJkKCk7IFxyXG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpIFxyXG4gICAgbG9hZGluZ01vZGFsKHRydWUsIGFkZENhcmRNb2RhbCk7XHJcbiAgfVxyXG4gIC8vIC0tLSAnUHJvZmlsZScgaW5mbyBlZGl0aW5nIC0tLSAvL1xyXG4gIGNvbnN0IHByb2ZpbGVJbmZvID0gbmV3IFVzZXJJbmZvKCBwcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgYXZhdGFySW1hZ2UpO1xyXG4gIC8vIC0tLSBGZXRjaGluZyBhbmQgc2V0dGluZyB1c2VyIHByb2ZpbGUgaW5mbyAtLS0gLy9cclxuICBhcGkuZ2V0VXNlckluZm8oKS50aGVuKHJlcyA9PiB7XHJcbiAgICBwcm9maWxlSW5mby5zZXRVc2VySW5mbyggcmVzLm5hbWUsIHJlcy5qb2IsIHJlcy5hdmF0YXIpXHJcbiAgfSlcclxuICBjb25zdCBwcm9maWxlRm9ybSA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICAgIG1vZGFsU2VsZWN0b3I6IHByb2ZpbGVNb2RhbCwgXHJcbiAgICBtb2RhbFN1Ym1pdGlvbjogKGRhdGEpID0+IHtcclxuICAgICAgbG9hZGluZ01vZGFsKHRydWUsIHByb2ZpbGVNb2RhbCk7XHJcbiAgICAgIGFwaS5zZXRVc2VySW5mb3Moe25hbWU6IGRhdGEudGl0bGUsIGpvYjpkYXRhLmpvYn0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgbG9hZGluZ01vZGFsKGZhbHNlLCBwcm9maWxlTW9kYWwpXHJcbiAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5qb2IpXHJcbiAgICAgICAgcHJvZmlsZUZvcm0uY2xvc2UoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIH1cclxuICB9KVxyXG4gIC8vIC0tLSAnUHJvZmlsZScgZm9ybSBoYW5kbGVyIC0tLSAvL1xyXG4gIHByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgLy8gLS0tIE9wZW4gJ1Byb2ZpbGUnIGZvcm0gd2l0aCBjdXJyZW50IHZhbHVlcyBhcyBpbnB1dHMgLS0tIC8vXHJcbiAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxuICAgIGNvbnN0IHVzZXIgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgaW5wdXROYW1lLnZhbHVlID0gdXNlci50aXRsZTtcclxuICAgIGlucHV0Sm9iLnZhbHVlID0gdXNlci5qb2I7XHJcbiAgfSlcclxufSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbi8vID09PT09IEF2YXRhciA9PT09PSAvL1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBmdW5jdGlvbmFsIC0tLSAvL1xyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJFZGl0KGRhdGEpIHtcclxuICBsb2FkaW5nTW9kYWwodHJ1ZSwgYXZhdGFyTW9kYWwpO1xyXG4gIGFwaS5zZXRVc2VyQXZhdGFyKHtcclxuICAgIGF2YXRhcjogZGF0YS5hdmF0YXJVUkxcclxuICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBhdmF0YXJJbWFnZS5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBhdmF0YXJNb2RhbCk7XHJcbiAgICBlZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGNyZWF0aW9uIC0tLSAvL1xyXG5jb25zdCBlZGl0QXZhdGFyID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gIG1vZGFsU2VsZWN0b3I6IGF2YXRhck1vZGFsLFxyXG4gIG1vZGFsU3VibWl0aW9uOiAoZGF0YSkgPT4ge1xyXG4gICAgaGFuZGxlQXZhdGFyRWRpdChkYXRhKVxyXG4gIH1cclxufSk7XHJcbi8vIC0tLSBPcGVuIGF2YXRhciBlZGl0IG1vZGFsIG9uIGNsaWNrIC0tLSAvL1xyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdEF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBoYW5kbGVyIC0tLSAvL1xyXG5lZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyA9PT09PSBWYWxpZGF0aW9uID09PT09IC8vXHJcbi8vIC0tLSAnRWRpdCBwcm9maWxlJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBwcm9maWxlTW9kYWwpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhdmF0YXJNb2RhbCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy8gLS0tICdBZGQgY2FyZCcgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgYWRkQ2FyZE1vZGFsKTtcclxuYWRkQ2FyZEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmV4cG9ydCB7IHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBiaWdJbWFnZSwgYXZhdGFySW1hZ2UgfSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgLy8gLS0tIE9wZW4gYmlnIGltYWdlIG1vZGFsIG1ldGhvZCAtLS0gLy9cclxuICBvcGVudXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGJpZ0ltYWdlID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JpZy1pbWFnZVwiKS5zcmMgPSBiaWdJbWFnZS5zcmM7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLmFsdCA9IGJpZ0ltYWdlLmFsdDtcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpLnRleHRDb250ZW50ID0gYmlnSW1hZ2UuYWx0O1xyXG5cclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gR2V0dGluZyBpbmZvIGZyb20gc2VydmVyID09PSAvL1xyXG4gIC8vIC0tLSBHZXQgY2FyZCBsaXN0IGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRDYXJkTGlzdCgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gR2V0IHVzZXIgaW5mbyBmcm9tIHRoZSBzZXJ2ZXIgLS0tIC8vXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIENoZWNrIGlmIGFsbCBpbmZvIGZldGNoZWQgLS0tIC8vXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldENhcmRMaXN0KCldKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBBZGRpbmcvUmVtb3ZpbmcvRWRpdGluZyA9PT0gLy9cclxuICAvLyAtLS0gQWRkaW5nIG5ldyBjYXJkIC0tLSAvL1xyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBSZW1vdmluZyBhIGNhcmQgLS0tIC8vXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvXCIgKyBjYXJkSWQsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIExpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVbmxpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgam9iLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiByZXMub2tcclxuICAgICAgICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0ICsgcmVzLnN0YXR1cyk7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBhdmF0YXIgLS0tIC8vXHJcbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVcGRhdGluZy9FZGl0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHVwZGF0ZVVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgam9iLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwiZm9ybUNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JNZXNzYWdlQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsInJlc2V0VmFsaWRhdGlvbiIsImlucHV0cyIsImZvckVhY2giLCJpbnB1dCIsIl90b2dnbGVTdWJtaXRCdXR0b24iLCJfY2hlY2tJbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9jaGVja0lmRm9ybVZhbGlkIiwiZXZlcnkiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJidXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJpbnB1dFNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIkNhcmQiLCJkYXRhIiwib25DYXJkQ2xpY2siLCJyZW1vdmVIYW5kbGVyIiwibGlrZUhhbmRsZXIiLCJ1c2VySWQiLCJjYXJkVGVtcGxhdGVTZWxlY3RvciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9vd25lciIsIm93bmVyIiwiX2NhcmRUZW1wbGF0ZVNlbGVjdG9yIiwiX2xpa2VzIiwibGlrZXMiLCJfdXNlcklkIiwiX29uQ2FyZENsaWNrIiwiX2xpa2VIYW5kbGVyIiwiX2lkIiwiX3JlbW92ZUhhbmRsZXIiLCJkZWxldGVDYXJkIiwiY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiX2NhcmRFbGVtZW50IiwiX3JlbmRlckxpa2VzIiwic29tZSIsImxpa2UiLCJzaG93TGlrZXMiLCJjb3VudCIsInVwZGF0ZUxpa2VzIiwibmV3TGlrZXMiLCJfbGlrZUNhcmQiLCJfY2FyZEltYWdlIiwiX3Nob3dEZWxldGVJY29uIiwiZ2VuZXJhdGVDYXJkIiwiX2NhcmRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlIiwic3JjIiwiYWx0IiwibGVuZ3RoIiwiX2l0ZW0iLCJNb2RhbCIsIm1vZGFsU2VsZWN0b3IiLCJfbW9kYWxTZWxlY3RvciIsIl9jaGVja0ZvckVzY0Nsb3NlIiwiYmluZCIsImNsb3NlIiwib3BlbiIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzZXRFdmVudExpc3RlbmVycyIsImUiLCJ0YXJnZXQiLCJjb250YWlucyIsIk1vZGFsV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJzdXBlciIsIl9oYW5kbGVTdWJtaXQiLCJnZXRJbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsImlucHV0VmFsdWVzIiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInZhbHVlcyIsInNldFN1Ym1pdEhhbmRsZXIiLCJyZXNldCIsIlNlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2xlYXIiLCJpbm5lckhUTUwiLCJyZW5kZXJJdGVtcyIsImNhcmQiLCJVc2VySW5mbyIsImpvYiIsImF2YXRhciIsIl9qb2IiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJfdXNlckluZm8iLCJ0aXRsZSIsIl90aXRsZSIsInNldFVzZXJJbmZvIiwidXNlckF2YXRhciIsImF2YXRhckltYWdlIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVNb2RhbCIsImF2YXRhckVkaXRCdXR0b24iLCJhdmF0YXJNb2RhbCIsImFkZENhcmRCdXR0b24iLCJhZGRDYXJkTW9kYWwiLCJhZGRDYXJkRm9ybSIsImZvcm1zIiwiY2FyZEJpZ01vZGFsIiwiZWxlbWVudHMiLCJmb3JtU2VsZWN0b3IiLCJiaWdJbWFnZSIsIm9wZW51cCIsIl9tb2RhbEVsZW1lbnQiLCJkZWxldGVDYXJkTW9kYWwiLCJsb2FkaW5nTW9kYWwiLCJpc0xvYWRpbmciLCJtb2RhbCIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldENhcmRMaXN0IiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJnZXRBcHBJbmZvIiwiYWxsIiwiYWRkQ2FyZCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwic3RhdHVzIiwic2V0VXNlckF2YXRhciIsInVwZGF0ZVVzZXJJbmZvIiwiYXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwiY2FyZExpc3REYXRhIiwiY2FyZHNMaXN0IiwiYWRkaW5nTmV3Q2FyZCIsImFkZE5ld0NhcmRNb2RhbCIsIm1vZGFsU3VibWl0aW9uIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiY2FyZEluc3RhbmNlIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJkZWxldGVMaWtlIiwidG9nZ2xlIiwicHJvZmlsZUluZm8iLCJwcm9maWxlRm9ybSIsInNldFVzZXJJbmZvcyIsInVzZXIiLCJpbnB1dE5hbWUiLCJpbnB1dEpvYiIsImVkaXRBdmF0YXIiLCJhdmF0YXJVUkwiLCJoYW5kbGVBdmF0YXJFZGl0Il0sInNvdXJjZVJvb3QiOiIifQ==