!function(){"use strict";var e={d:function(t,r){for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b7:function(){return h},ED:function(){return _},rC:function(){return d}});class t{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:r,errorMessageClass:s}=this._formConfig,n=this._formElement.querySelector(` #${e.id}_error `);n.textContent=t,n.classList.add(s),e.classList.add(r)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:r}=this._formConfig,s=this._formElement.querySelector(` #${e.id}_error `);s.textContent="",s.classList.remove(r),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,r=this._formElement.querySelector(t);this._checkIfFormValid()?(r.disabled=!1,r.classList.remove(e)):(r.disabled=!0,r.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor(e,t,r,{onCardClick:s,removeHandler:n,likeHandler:o}){this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._id=e._id,this._template=t,this._userId=r,this._onCardClick=s,this._likeHandler=o,this._removeHandler=n}_getTemplate(){return this._template.content.querySelector(".card").cloneNode(!0)}_setAttributes(e,t){for(const r in t)e.setAttribute(r,t[r])}deleteCard(){const e=document.getElementById(id);e&&e.parentNode.removeChild(e),this._cardElement=null}_renderLikes(){this._likes.forEach((e=>e._id===this._userId?this.likeCard():this.unlikeCard()))}showLikes(e){this._cardElement.querySelector(".card__like-count").textContent=e}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._id)})),this._cardElement.addEventListener("click",(e=>{this._onCardClick(e)}))}_showDeleteIcon(){this._userId!=this._ownerId&&this._cardElement.querySelector(".card__delete-button").classList.add("card__delete-button_hidden")}isLiked(){return this.likeIcon.classList.contains("card__like-button_active")}generateCard(){return this._cardElement=this._getTemplate(),this.likeIcon=this._cardElement.querySelector(".card__like-button"),this._setAttributes(this._cardElement.querySelector(".card__image"),{src:this._image,alt:this._name}),this._cardElement.querySelector(".card__title").textContent=this.name,this._showDeleteIcon(),this.showLikes(this._likes.length),this._setEventListeners(),this._renderLikes(),this._cardElement}likeCard(){this.likeIcon.classList.add("card__like-button_active")}unlikeCard(){this.likeIcon.classList.remove("card__like-button_active")}}class s{constructor(e){this._modal=e}open(){this._modal.classList.add(".modal_visible"),this.setEventListeners()}close(){this._modal.classList.remove(".modal_visible"),this.removeEventListeners()}_clickEscHandler=e=>{"Escape"===e.key&&this.close()};_clickOnCloseButtonHandler=()=>{this.close()};_clickOnOverlayHandler=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._modal=document.querySelector(".modal__container_type_form"),this._modal.querySelector(".modal__close-button").addEventListener("click",this._clickOnCloseButtonHandler),this._modal.addEventListener("click",this._clickOnOverlayHandler),document.addEventListener("keydown",this._clickEscHandler)}removeEventListeners(){this._modal=document.querySelector(".modal__container_type_form"),this._modal.querySelector(".modal__close-button").removeEventListener("click",this._clickOnCloseButtonHandler),this._modal.removeEventListener("click",this._clickOnOverlayHandler),document.removeEventListener("keydown",this._clickEscHandler)}}class n extends s{constructor({modal:e,handleSubmit:t}){super(e),this._handleSubmit=t,this._form=document.querySelector(".modal__container_type_form"),this._formElement=this._form.querySelectorAll(".modal__input")}_getInputValues(){return this._formInputValues={},inputList.forEach((e=>{this._formInputValues[e.name]=e.value})),inputValues}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this.handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._form.removeEventListener("submit",this.handleSubmit)}handleSubmit=e=>(e.preventDefault(),this._handleSubmit(this._getInputValues));handleRemove(e){this._handleSubmit=e}close(){super.close(),this._form.reset()}}class o{constructor({items:e,renderer:t},r){this._renderedElements=e,this._renderer=t,this._container=document.querySelector(r)}renderer(){this._renderedElements.forEach((e=>this._renderer(e)))}addItem(e){this._container.append(e)}prependItem(e){this._container.prepend(e)}}class i{constructor(e,t,r){this._name=e,this._job=t,this._avatar=r}getUserInfo(){return this._userInfo={title:this._name.textContent,job:this._job.textContent}}setUserInfo(e,t,r){this._userInfo={title:e,job:t,userAvatar:r},r?(h.src=this._userInfo.userAvatar,d.textContent=this._userInfo.title,_.textContent=this._userInfo.job):(d.textContent=this._userInfo.title,_.textContent=this._userInfo.job)}}const a=document.querySelector(".profile__edit-button"),l=document.querySelector(".modal_type_edit"),d=document.querySelector(".profile__title"),c=document.querySelector(".modal__input_type_title"),_=document.querySelector(".profile__subtitle"),u=document.querySelector(".modal__input_type_subtitle"),h=(document.querySelector(".modal__close-button_type_edit"),document.querySelector(".profile__image")),m=document.querySelector(".profile__image-edit"),p=document.querySelector(".modal_type_avatar"),f=(p.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),b=document.querySelector(".modal_type_add-card"),v=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),y=(v.elements.title,v.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector("#card__template")),E=document.querySelector(".modal_type_big-image"),k=(document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),document.querySelector(".modal_type_delete-card")),S={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"},g=new class extends s{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(E);g.setEventListeners();const C=new n({modal:k});function L(e,t){t.querySelector(".modal__submit-button").textContent=e?"Saving...":"Save"}C.setEventListeners();const I=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getCardList(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json().then((e=>e));Promise.reject("Error!"+e.statusText)}))}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}getAppInfo(){return Promise.all([this.getCardList(),this.getUserInfo()])}addCard(e){const{name:t,link:r}=e;return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:r})}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeCard(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}likeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}unlikeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}setUserInfo(e){const{name:t,job:r}=e;return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,job:r})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText+e.status)))}setUserAvatar({avatar:e}){return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}updateUserInfo(e){const{name:t,job:r}=e;return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,job:r})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"}});I.getAppInfo().then((([e,t])=>{const s=new i(d,_,h);s.setUserInfo(t);const m=e=>{const s=new r(e,y,t._id,{onCardClick:({name:e,link:t})=>{g.open(t,e)},removeHandler:e=>{C.open(),C.handleRemove((()=>{I.removeCard(e).then((()=>{s.deleteCardModal(),C.close()})).catch((e=>console.log(e)))}))},likeHandler:e=>{s.isLiked()?I.unlikeCard(e).then((e=>{s.unlikeCard(),s.showLikes(e.likes.lenght)})):I.likeCard(e).then((e=>{s.unlikeCard(),s.showLikes(e.likes.lenght)})).catch((e=>console.log(e)))}});return s},v=new o({items:e,renderer:e=>{v.addItem(m(e).generateCard())}},".cards__grid");console.log(e),v.renderer();const E=new n({modal:b,handleSubmit:e=>{L(!0,b),I.addCard(e).then((e=>{v.prependItem(m(e).generateCard())})).then((()=>{E.close()})).catch((e=>console.log(e))).finally((()=>L(!1,b)))}});f.addEventListener("click",(()=>{w.resetValidation(),addNewCardModal.open()})),E.setEventListeners();const k=new n({modal:l,handleSubmit:e=>{L(!0,l),I.updateUserInfo(i).then((e=>{s.setUserInfo(e)})).then((()=>{k.close()})).catch((e=>console.log(e))).finally((()=>L(!1,l)))}});a.addEventListener("click",(()=>{j.resetValidation();const{name:e,job:t}=s.getUserInfo();c.value=e,u.value=t,k.open()}));const S=new n({modal:p,handleSubmit:e=>{L(!0,p),I.updateUserInfo(e.avatar).then((e=>{s.setUserInfo(e)})).then((()=>{S.close()})).catch((e=>console.log(e))).finally((()=>{L(!1,p)}))}})})).catch((e=>console.log(e)));const q=new n({modalSelector:p,modalSubmition:e=>{!function(e){L(!0,p),I.setUserAvatar({avatar:e.avatarURL}).then((e=>{h.src=e.avatar,L(!1,p),q.close()})).catch((e=>console.log(e)))}(e)}});m.addEventListener("click",(()=>{q.open()})),q.setEventListeners();const j=new t(S,l);j.enableValidation(),new t(S,p).enableValidation();const w=new t(S,b);w.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SixHQUM1RHFELEVBQXNCcEssbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9JbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtQ29uZmlnID0gZm9ybUNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIFxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yTWVzc2FnZUNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0lmRm9ybVZhbGlkID0gKCkgPT4gdGhpcy5pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gIF90b2dnbGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGVja0lmRm9ybVZhbGlkKCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgdGhpcy5pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xyXG5cclxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoIGRhdGEsIHRlbXBsYXRlLCB1c2VySWQsIFxyXG4gICAgeyBvbkNhcmRDbGljaywgcmVtb3ZlSGFuZGxlciwgbGlrZUhhbmRsZXIgfSApIFxyXG4gIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX3RlbXBsYXRlID0gdGVtcGxhdGU7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcblxyXG4gICAgdGhpcy5fb25DYXJkQ2xpY2sgPSBvbkNhcmRDbGljaztcclxuICAgIHRoaXMuX2xpa2VIYW5kbGVyID0gbGlrZUhhbmRsZXI7XHJcbiAgICB0aGlzLl9yZW1vdmVIYW5kbGVyID0gcmVtb3ZlSGFuZGxlcjtcclxuICB9XHJcbiAgLy8gLS0tIEdldCBjYXJkIHRlbXBsYXRlIC0tLSAvL1xyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fdGVtcGxhdGVcclxuICAgIC5jb250ZW50XHJcbiAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0QXR0cmlidXRlcyhjYXJkRWxlbWVudCwgYXR0cmlicykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlicykge1xyXG4gICAgICBjYXJkRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJzW2tleV0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyAtLS0gQ2FyZCBkZWxldGluZyBtZXRob2QgLS0tIC8vXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYoY2FyZEVsZW1lbnQpe1xyXG4gICAgICBjYXJkRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhcmRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbiAgLy8gLS0tICAtLS0gLy9cclxuICBfcmVuZGVyTGlrZXMgKCkge1xyXG4gICAgdGhpcy5fbGlrZXMuZm9yRWFjaCgobGlrZSkgPT4gXHJcbiAgICAgIGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQgPyB0aGlzLmxpa2VDYXJkKCkgOiB0aGlzLnVubGlrZUNhcmQoKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIFNob3cgdGhlIGxpa2UgYW1vdW50IC0tLSAvL1xyXG4gIHNob3dMaWtlcyhjb3VudCl7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudCcpLnRleHRDb250ZW50ID0gY291bnQ7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gU2V0IGV2ZW50cyBsaXN0ZW5lcnMgZm9yIHRoZSBjYXJkcyB0aGF0IHdpbGwgYmUgY3JlYXRlZCEgLS0tIC8vXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWJ1dHRvbicpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNhcmQoZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVIYW5kbGVyKHRoaXMuX2lkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9vbkNhcmRDbGljayhldmVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zaG93RGVsZXRlSWNvbigpIHtcclxuICAgIGlmKHRoaXMuX3VzZXJJZCAhPSB0aGlzLl9vd25lcklkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fZGVsZXRlLWJ1dHRvbl9oaWRkZW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWtlSWNvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIENyZWF0aW5nIHRoZSBjYXJkIGFuZCBjYXJkIGVsZW1lbnRzIC0tLSAvL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMubGlrZUljb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcclxuICAgIHRoaXMuX3NldEF0dHJpYnV0ZXModGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyksIHtcclxuICAgICAgc3JjOiB0aGlzLl9pbWFnZSxcclxuICAgICAgYWx0OiB0aGlzLl9uYW1lXHJcbiAgICB9KTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpLnRleHRDb250ZW50ID0gdGhpcy5uYW1lO1xyXG5cclxuICAgIHRoaXMuX3Nob3dEZWxldGVJY29uKCk7XHJcbiAgICB0aGlzLnNob3dMaWtlcyh0aGlzLl9saWtlcy5sZW5ndGgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3JlbmRlckxpa2VzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2NhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoKSB7XHJcbiAgICB0aGlzLmxpa2VJY29uLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgdW5saWtlQ2FyZCgpIHtcclxuICAgIHRoaXMubGlrZUljb24uY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbCkge1xyXG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcclxuICB9XHJcbiAgLy8gLS0tIE9wZW4gbW9kYWwgbWV0aG9kIC0tLSAvLyBcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LmFkZChcIi5tb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgbWV0aG9kIC0tLSAvL1xyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIi5tb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBFU0MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja0VzY0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgb24gY2xvc2UoJ1gnKSBidXR0b24gcHJlc3MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH07XHJcbiAgLy8gLS0tIENsb3NlIG1vZGFsIG9uIG92ZXJsYXkgbW91c2UgY2xpY2sgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja09uT3ZlcmxheUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhaW5lcl90eXBlX2Zvcm0nKTtcclxuICAgIHRoaXMuX21vZGFsXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbicpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIpO1xyXG4gICAgdGhpcy5fbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja09uT3ZlcmxheUhhbmRsZXIpXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xpY2tFc2NIYW5kbGVyKTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhaW5lcl90eXBlX2Zvcm0nKTtcclxuICAgIHRoaXMuX21vZGFsXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbicpXHJcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIpO1xyXG4gICAgdGhpcy5fbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja09uT3ZlcmxheUhhbmRsZXIpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xpY2tFc2NIYW5kbGVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEZvcm0gZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3Ioe21vZGFsLCBoYW5kbGVTdWJtaXR9KSB7XHJcbiAgICBzdXBlcihtb2RhbCk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YWluZXJfdHlwZV9mb3JtJyk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19pbnB1dCcpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybUlucHV0VmFsdWVzID0ge307XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybUlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuaGFuZGxlU3VibWl0KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PntcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcyk7XHJcblxyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUmVtb3ZlKGhhbmRsZSkge1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlZEVsZW1lbnRzID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJlcigpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudHMuZm9yRWFjaCgoaXRlbSkgPT4gdGhpcy5fcmVuZGVyZXIoaXRlbSkpO1xyXG4gIH1cclxuICBcclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5hcHBlbmQoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBwcmVwZW5kSXRlbShpdGVtKSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtwcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgYXZhdGFySW1hZ2V9IGZyb20gJy4uLy4uL3BhZ2VzL0luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBqb2IsIGF2YXRhcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2IgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiAodGhpcy5fdXNlckluZm8gPSB7XHJcbiAgICAgIHRpdGxlOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh0aXRsZSwgam9iLCB1c2VyQXZhdGFyKSB7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IHsgdGl0bGUsIGpvYiwgdXNlckF2YXRhciB9O1xyXG4gICAgaWYgKHVzZXJBdmF0YXIpIHtcclxuICAgICAgYXZhdGFySW1hZ2Uuc3JjID0gdGhpcy5fdXNlckluZm8udXNlckF2YXRhcjtcclxuICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby50aXRsZTtcclxuICAgICAgcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLmpvYjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8udGl0bGU7XHJcbiAgICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby5qb2I7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIC0tLSAnRWRpdCBwcm9maWxlJyBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV9zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3QgZWRpdENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9lZGl0Jyk7XHJcbi8vIC0tLSAnQXZhdGFyXCIgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UtZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsSW5wdXQgPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfYXZhdGFyJylcclxuLy8gLS0tICdBZGQtY2FyZCcgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9hZGQtY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgY2FyZElucHV0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgY2FyZElucHV0TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV9saW5rJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2FkZC1jYXJkJyk7XHJcbi8vIC0tLSAnQWRkLUNhcmQnIGZvcm0gY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtcy5hZGQ7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybVRpdGVsID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMudGl0bGU7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybUxpbmsgPSBhZGRDYXJkRm9ybS5lbGVtZW50cy5saW5rO1xyXG4vLyAtLS0gR2VuZXJhbCBjb25zdCAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fc3VibWl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2dyaWQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjYXJkX190ZW1wbGF0ZScpO1xyXG4vLyAtLS0gQmlnIGltYWdlIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGNhcmRCaWdNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF90eXBlX2JpZy1pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsSW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2JpZy1pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW1hZ2UtY2FwdGlvbicpO1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsQ2xvc2VJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9iaWctaW1hZ2UnKTtcclxuLy8gLS0tICdEZWxldGUgY2FyZCcgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZGVsZXRlQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfdHlwZV9kZWxldGUtY2FyZFwiKTtcclxuLy8gLS0tIEZvcm0gY29uZmlnIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyXCIsXHJcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfZXJyb3JcIixcclxuICBlcnJvck1lc3NhZ2VDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiXHJcbn07XHJcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanNcIjtcclxuaW1wb3J0IE1vZGFsV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IE1vZGFsV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9BcGkuanNcIlxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHtcclxuICBwcm9maWxlTmFtZSxcclxuICBuYW1lSW5wdXQsXHJcbiAgcHJvZmlsZUpvYixcclxuICBqb2JJbnB1dCxcclxuICBlZGl0QnV0dG9uLFxyXG4gIHByb2ZpbGVNb2RhbCxcclxuICBjYXJkVGVtcGxhdGUsXHJcbiAgYWRkQ2FyZEJ1dHRvbixcclxuICBhZGRDYXJkTW9kYWwsXHJcbiAgYXZhdGFyTW9kYWwsXHJcbiAgYXZhdGFySW1hZ2UsXHJcbiAgYXZhdGFyRWRpdEJ1dHRvbixcclxuICBjYXJkQmlnTW9kYWwsXHJcbiAgZGVsZXRlQ2FyZCxcclxuICBmb3JtQ29uZmlnXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLyA9PT09PSBNb2RhbHMgPT09PT0gLy9cclxuLy8gLS0tIEJpZyBpbWFnZSBtb2RhbCBpbnN0YW5jZSAtLS0gLy9cclxuY29uc3QgYmlnSW1hZ2UgPSBuZXcgTW9kYWxXaXRoSW1hZ2UoY2FyZEJpZ01vZGFsKTtcclxuYmlnSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gLS0tIERlbGV0ZSBjYXJkIG1vZGFsIGluc3RhbmNlIGFuZCBldmVudHMgLS0tIC8vXHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICBtb2RhbDogZGVsZXRlQ2FyZFxyXG59KTtcclxuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIC0tLSBVWCBmb3IgbW9kYWxzIC0tLSAvL1xyXG5mdW5jdGlvbiBsb2FkaW5nTW9kYWwoaXNMb2FkaW5nLCBtb2RhbCkge1xyXG4gIGlmIChpc0xvYWRpbmcpIHsgbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7IH0gXHJcbiAgZWxzZSB7IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlNhdmVcIjsgfVxyXG59XHJcblxyXG4vLyA9PT09PSBBUEkgPT09PT0gLy9cclxuLy8gLS0tIFNldHRpbmcgdGhlIGRlZmF1bHQgZmV0Y2hpbmcgdXJsIGFuZCB0b2tlbiAtLS0gLy9cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczogXHJcbiAge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI3MDlhMGQ5ZC1kYjA2LTQ4OTAtYTU5NC1iMDdlNzMwOWEzNTNcIixcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgXHJcbiAgfVxyXG59KTtcclxuLy8gLS0tIEdldEFwcEluZm8gbWV0aG9kIC0tLSAvL1xyXG5hcGlcclxuICAuZ2V0QXBwSW5mbygpXHJcbiAgLnRoZW4oIChbY2FyZExpc3QsIHVzZXJEYXRhXSkgPT4ge1xyXG4gICAgLy8gLS0tICdQcm9maWxlJyBpbmZvIGVkaXRpbmcgLS0tIC8vXHJcbiAgICBjb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBhdmF0YXJJbWFnZSk7XHJcbiAgICBwcm9maWxlLnNldFVzZXJJbmZvKHVzZXJEYXRhKTtcclxuICAgIC8vIC0tLSBOZXcgY2FyZCBhZGRpbmcgLS0tIC8vXHJcbiAgICBjb25zdCBhZGRpbmdOZXdDYXJkID0gKGRhdGEpID0+e1xyXG4gICAgICBjb25zdCBjYXJkSW5zdGFuY2UgPSBuZXcgQ2FyZChkYXRhLCBjYXJkVGVtcGxhdGUsIHVzZXJEYXRhLl9pZCwge1xyXG4gICAgICAgIG9uQ2FyZENsaWNrOiAoe25hbWUsIGxpbmt9KSA9PiB7XHJcbiAgICAgICAgICBiaWdJbWFnZS5vcGVuKGxpbmssIG5hbWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlSGFuZGxlcjogKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oKTtcclxuICAgICAgICAgIGRlbGV0ZUNhcmRNb2RhbC5oYW5kbGVSZW1vdmUoKCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAucmVtb3ZlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLmRlbGV0ZUNhcmRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaWtlSGFuZGxlcjogKGNhcmRJZCkgPT57XHJcbiAgICAgICAgICBjb25zdCBsaWtlVG9nZ2xlID0gY2FyZEluc3RhbmNlLmlzTGlrZWQoKTtcclxuICAgICAgICAgIGlmKGxpa2VUb2dnbGUpIHtcclxuICAgICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgICAgLnVubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAgIC50aGVuKChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLnVubGlrZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMoY291bnQubGlrZXMubGVuZ2h0KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAgIC50aGVuKChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLnVubGlrZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMoY291bnQubGlrZXMubGVuZ2h0KTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gY2FyZEluc3RhbmNlO1xyXG4gICAgfTtcclxuICAgIC8vIC0tLSBDYXJkcyBzZWN0aW9uIGNyZWF0aW9uIC0tLSAvL1xyXG4gICAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgICBpdGVtczogY2FyZExpc3QsXHJcbiAgICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGFkZGluZ05ld0NhcmQoZGF0YSkuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgICB9XHJcbiAgICB9LCBcclxuICAgICcuY2FyZHNfX2dyaWQnKTtcclxuICAgIGNvbnNvbGUubG9nKGNhcmRMaXN0KTtcclxuICAgIC8vIC0tLSBSZW5kZXIgY2FyZHMgLS0tIC8vXHJcbiAgICBjYXJkc0xpc3QucmVuZGVyZXIoKTtcclxuICAgIC8vIC0tLSBOZXcgY2FyZCBhZGRpbmcgZm9ybSAtLS0gLy9cclxuICAgIGNvbnN0IGFkZENhcmRGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgICBtb2RhbDogYWRkQ2FyZE1vZGFsLFxyXG4gICAgICBoYW5kbGVTdWJtaXQ6IChkYXRhKSA9PntcclxuICAgICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgYWRkQ2FyZE1vZGFsKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmRzTGlzdC5wcmVwZW5kSXRlbShhZGRpbmdOZXdDYXJkKHJlcykuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IGxvYWRpbmdNb2RhbChmYWxzZSwgYWRkQ2FyZE1vZGFsKSk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIC8vIC0tLSBBZGQgY2FyZCBidXR0b24gZnVuY3Rpb25hbCBhZGRpbmcgLS0tIC8vXHJcbiAgICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGFkZENhcmRGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgICAgYWRkTmV3Q2FyZE1vZGFsLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgYWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIC8vIC0tLSBQcm9maWxlIGVkaXQgZm9ybSAtLS0gLy9cclxuICAgIGNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgICBtb2RhbDogcHJvZmlsZU1vZGFsLCBcclxuICAgICAgaGFuZGxlU3VibWl0OiAodXNlckluZm8pID0+IHtcclxuICAgICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgcHJvZmlsZU1vZGFsKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAudXBkYXRlVXNlckluZm8oVXNlckluZm8pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhyZXMpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBwcm9maWxlRm9ybS5jbG9zZSgpXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgICAuZmluYWxseSgoKSA9PiBsb2FkaW5nTW9kYWwoZmFsc2UscHJvZmlsZU1vZGFsKSlcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAvLyAtLS0gT3BlbiAnUHJvZmlsZScgZm9ybSB3aXRoIGN1cnJlbnQgdmFsdWVzIGFzIGlucHV0cyAtLS0gLy9cclxuICAgIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgICAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcclxuICAgICAgbmFtZUlucHV0LnZhbHVlID0gbmFtZTtcclxuICAgICAgam9iSW5wdXQudmFsdWUgPSBqb2I7XHJcbiAgICAgIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgLy8gLS0tICdBdmF0YXInIGVkaXQvdXBkYXRlIGZvcm0gLS0tIC8vXHJcbiAgICBjb25zdCBhdmF0YXJGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgICBtb2RhbDogYXZhdGFyTW9kYWwsXHJcbiAgICAgIGhhbmRsZVN1Ym1pdDogKGltZ0xpbmspID0+IHtcclxuICAgICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgYXZhdGFyTW9kYWwpO1xyXG4gICAgICAgIGFwaVxyXG4gICAgICAgICAgLnVwZGF0ZVVzZXJJbmZvKGltZ0xpbmsuYXZhdGFyKVxyXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBwcm9maWxlLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBhdmF0YXJGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgYXZhdGFyTW9kYWwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxufSlcclxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuLy8gPT09PT0gQXZhdGFyID09PT09IC8vXHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGZ1bmN0aW9uYWwgLS0tIC8vXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckVkaXQoZGF0YSkge1xyXG4gIGxvYWRpbmdNb2RhbCh0cnVlLCBhdmF0YXJNb2RhbCk7XHJcbiAgYXBpLnNldFVzZXJBdmF0YXIoe1xyXG4gICAgYXZhdGFyOiBkYXRhLmF2YXRhclVSTFxyXG4gIH0pXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIGF2YXRhckltYWdlLnNyYyA9IHJlcy5hdmF0YXI7XHJcbiAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGF2YXRhck1vZGFsKTtcclxuICAgIGVkaXRBdmF0YXIuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuLy8gLS0tICdBdmF0YXInIGZvcm0gY3JlYXRpb24gLS0tIC8vXHJcbmNvbnN0IGVkaXRBdmF0YXIgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XHJcbiAgbW9kYWxTZWxlY3RvcjogYXZhdGFyTW9kYWwsXHJcbiAgbW9kYWxTdWJtaXRpb246IChkYXRhKSA9PiB7XHJcbiAgICBoYW5kbGVBdmF0YXJFZGl0KGRhdGEpXHJcbiAgfVxyXG59KTtcclxuLy8gLS0tIE9wZW4gYXZhdGFyIGVkaXQgbW9kYWwgb24gY2xpY2sgLS0tIC8vXHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0QXZhdGFyLm9wZW4oKTtcclxufSk7XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGhhbmRsZXIgLS0tIC8vXHJcbmVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vID09PT09IFZhbGlkYXRpb24gPT09PT0gLy9cclxuLy8gLS0tICdFZGl0IHByb2ZpbGUnIGZvcm0gdmFsaWRhdGlvbiBhZGRpbmcgLS0tIC8vXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIHByb2ZpbGVNb2RhbCk7XHJcbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIGF2YXRhck1vZGFsKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyAtLS0gJ0FkZCBjYXJkJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhZGRDYXJkTW9kYWwpO1xyXG5hZGRDYXJkRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuZXhwb3J0IHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIGJpZ0ltYWdlLCBhdmF0YXJJbWFnZSB9IiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcclxuICAvLyAtLS0gT3BlbiBiaWcgaW1hZ2UgbW9kYWwgbWV0aG9kIC0tLSAvL1xyXG4gIG9wZW51cCA9IChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgYmlnSW1hZ2UgPSBldmVudC50YXJnZXQ7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLnNyYyA9IGJpZ0ltYWdlLnNyYztcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19iaWctaW1hZ2VcIikuYWx0ID0gYmlnSW1hZ2UuYWx0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIikudGV4dENvbnRlbnQgPSBiaWdJbWFnZS5hbHQ7XHJcblxyXG4gICAgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIC8vID09PSBHZXR0aW5nIGluZm8gZnJvbSBzZXJ2ZXIgPT09IC8vXHJcbiAgLy8gLS0tIEdldCBjYXJkIGxpc3QgZnJvbSB0aGUgc2VydmVyIC0tLSAvL1xyXG4gIGdldENhcmRMaXN0KCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBHZXQgdXNlciBpbmZvIGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gQ2hlY2sgaWYgYWxsIGluZm8gZmV0Y2hlZCAtLS0gLy9cclxuICBnZXRBcHBJbmZvKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldENhcmRMaXN0KCksIHRoaXMuZ2V0VXNlckluZm8oKV0pO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09IEFkZGluZy9SZW1vdmluZy9FZGl0aW5nID09PSAvL1xyXG4gIC8vIC0tLSBBZGRpbmcgbmV3IGNhcmQgLS0tIC8vXHJcbiAgYWRkQ2FyZChkYXRhKSB7XHJcbiAgICBjb25zdCB7bmFtZSwgbGlua30gPSBkYXRhO1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gLS0tIFJlbW92aW5nIGEgY2FyZCAtLS0gLy9cclxuICByZW1vdmVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gTGlrZSBhIGNhcmQgLS0tIC8vXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVbmxpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHNldFVzZXJJbmZvKCB1c2VySW5mbyApIHtcclxuICAgIGNvbnN0IHsgbmFtZSwgam9iIH0gPSB1c2VySW5mbztcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgam9iLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiByZXMub2tcclxuICAgICAgICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0ICsgcmVzLnN0YXR1cyk7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBhdmF0YXIgLS0tIC8vXHJcbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVcGRhdGluZy9FZGl0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHVwZGF0ZVVzZXJJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm87XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGpvYixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgcmV0dXJuIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIkZvcm1WYWxpZGF0b3IiLCJjb25zdHJ1Y3RvciIsImZvcm1Db25maWciLCJmb3JtRWxlbWVudCIsInRoaXMiLCJfZm9ybUNvbmZpZyIsIl9mb3JtRWxlbWVudCIsIl9zaG93SW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yTWVzc2FnZUNsYXNzIiwiZXJyb3JFbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaGlkZUlucHV0RXJyb3IiLCJyZW1vdmUiLCJyZXNldFZhbGlkYXRpb24iLCJpbnB1dHMiLCJmb3JFYWNoIiwiaW5wdXQiLCJfdG9nZ2xlU3VibWl0QnV0dG9uIiwiX2NoZWNrSW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfY2hlY2tJZkZvcm1WYWxpZCIsImV2ZXJ5IiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiYnV0dG9uRWxlbWVudCIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiaW5wdXRTZWxlY3RvciIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhZGRFdmVudExpc3RlbmVyIiwiZW5hYmxlVmFsaWRhdGlvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJDYXJkIiwiZGF0YSIsInRlbXBsYXRlIiwidXNlcklkIiwib25DYXJkQ2xpY2siLCJyZW1vdmVIYW5kbGVyIiwibGlrZUhhbmRsZXIiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfdGVtcGxhdGUiLCJfdXNlcklkIiwiX29uQ2FyZENsaWNrIiwiX2xpa2VIYW5kbGVyIiwiX3JlbW92ZUhhbmRsZXIiLCJfZ2V0VGVtcGxhdGUiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX3NldEF0dHJpYnV0ZXMiLCJjYXJkRWxlbWVudCIsImF0dHJpYnMiLCJzZXRBdHRyaWJ1dGUiLCJkZWxldGVDYXJkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIl9jYXJkRWxlbWVudCIsIl9yZW5kZXJMaWtlcyIsImxpa2UiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJzaG93TGlrZXMiLCJjb3VudCIsIl9saWtlQ2FyZCIsIl9zaG93RGVsZXRlSWNvbiIsImlzTGlrZWQiLCJsaWtlSWNvbiIsImNvbnRhaW5zIiwiZ2VuZXJhdGVDYXJkIiwic3JjIiwiX2ltYWdlIiwiYWx0IiwibGVuZ3RoIiwiTW9kYWwiLCJtb2RhbCIsIl9tb2RhbCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfY2xpY2tFc2NIYW5kbGVyIiwiX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIiLCJfY2xpY2tPbk92ZXJsYXlIYW5kbGVyIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJNb2RhbFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybUlucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwidmFsdWUiLCJpbnB1dFZhbHVlcyIsImhhbmRsZVJlbW92ZSIsImhhbmRsZSIsInJlc2V0IiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9yZW5kZXJlZEVsZW1lbnRzIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJhZGRJdGVtIiwiYXBwZW5kIiwicHJlcGVuZEl0ZW0iLCJwcmVwZW5kIiwiVXNlckluZm8iLCJqb2IiLCJhdmF0YXIiLCJfam9iIiwiX2F2YXRhciIsImdldFVzZXJJbmZvIiwiX3VzZXJJbmZvIiwidGl0bGUiLCJzZXRVc2VySW5mbyIsInVzZXJBdmF0YXIiLCJhdmF0YXJJbWFnZSIsInByb2ZpbGVOYW1lIiwicHJvZmlsZUpvYiIsImVkaXRCdXR0b24iLCJwcm9maWxlTW9kYWwiLCJuYW1lSW5wdXQiLCJqb2JJbnB1dCIsImF2YXRhckVkaXRCdXR0b24iLCJhdmF0YXJNb2RhbCIsImFkZENhcmRCdXR0b24iLCJhZGRDYXJkTW9kYWwiLCJhZGRDYXJkRm9ybSIsImZvcm1zIiwiY2FyZFRlbXBsYXRlIiwiZWxlbWVudHMiLCJjYXJkQmlnTW9kYWwiLCJmb3JtU2VsZWN0b3IiLCJiaWdJbWFnZSIsIm9wZW51cCIsIl9tb2RhbEVsZW1lbnQiLCJkZWxldGVDYXJkTW9kYWwiLCJsb2FkaW5nTW9kYWwiLCJpc0xvYWRpbmciLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRDYXJkTGlzdCIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZ2V0QXBwSW5mbyIsImFsbCIsImFkZENhcmQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZUNhcmQiLCJjYXJkSWQiLCJ1c2VySW5mbyIsInN0YXR1cyIsInNldFVzZXJBdmF0YXIiLCJ1cGRhdGVVc2VySW5mbyIsImF1dGhvcml6YXRpb24iLCJjYXJkTGlzdCIsInVzZXJEYXRhIiwicHJvZmlsZSIsImFkZGluZ05ld0NhcmQiLCJjYXJkSW5zdGFuY2UiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJsZW5naHQiLCJjYXJkc0xpc3QiLCJmaW5hbGx5IiwiYWRkQ2FyZEZvcm1WYWxpZGF0aW9uIiwiYWRkTmV3Q2FyZE1vZGFsIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlRm9ybVZhbGlkYXRpb24iLCJhdmF0YXJGb3JtIiwiaW1nTGluayIsImVkaXRBdmF0YXIiLCJtb2RhbFNlbGVjdG9yIiwibW9kYWxTdWJtaXRpb24iLCJhdmF0YXJVUkwiLCJoYW5kbGVBdmF0YXJFZGl0Il0sInNvdXJjZVJvb3QiOiIifQ==