!function(){"use strict";const e=(e,t)=>fetch(e,t).then((e=>{if(e.ok)return e.json();Promise.reject(`ERROR: ${e.statusText}`)})),t=new class{constructor(e,t){this.baseUrl=e,this.headers=t}getInitialCards(){return e(`${this._baseUrl}/cards`,{headers:this._headers})}getUserInfo(){return e(`${this._baseUrl}/users/me`,{headers:this._headers})}setUserAvatar(t){return e(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t.link})})}sendNewData(t){return e(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,job:t.job})})}createNewCard(t){return e(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link})})}removeCard(t){return e(`${this._baseUrl}/cards/${t}`,{method:"DELETE",headers:this._headers})}addLike(t){return e(`${this._baseUrl}/cards/likes/${t}`,{method:"PUT",headers:this._headers})}removeLike(t){return e(`${this._baseUrl}/cards/likes/${t}`,{method:"DELETE",headers:this._headers})}}("https://around.nomoreparties.co/v1/group-12",{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"});class s{constructor({cardData:e,user:t,onCardClick:s,removeHandler:r,likeHandler:i},n){this._name=e.name,this._link=e.link,this._cardId=e._id,this._ownerId=e.owner._id,this._userID=t,this._likes=e.likes,this._cardSelector=n,this._onCardClick=s,this._likeHandler=i,this._removeHandler=r}_getTemplate(){return document.querySelector("#card__template").content.querySelector(".card").cloneNode(!0)}deleteCard(){this._item.remove(),this._item=null}_renderLikes(){this.isLiked()?this._item.querySelector(".card__like-button").classList.add("card__like-button_active"):this._item.querySelector(".card__like-button").classList.remove("card__like-button_active"),this._item.querySelector(".card__like-counter").textContent=this._likes.length}isLiked(){return this._likes.some((e=>e._id===this._userId))}updateLikes(e){this._likes=e,this._renderLikes()}_setEventListeners(){this._item.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._item.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._cardId)})),this._cardImage.addEventListener("click",(e=>{this._onCardClick(e)}))}generateCard(){return this._item=this._getTemplate(),this._ownerId!==this._userId&&this._element.querySelector(".card__delete-button").classList.add("card__delete-button_hidden"),this._cardImage=this._item.querySelector(".card__image"),this._item.querySelector(".card__title").textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=`Image of  ${this._name} `,this._renderLikes(),this._setEventListeners(),this._item}}class r{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:s,errorMessageClass:r}=this._formConfig,i=this._formElement.querySelector(` #${e.id}_error `);i.textContent=t,i.classList.add(r),e.classList.add(s)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:s}=this._formConfig,r=this._formElement.querySelector(` #${e.id}_error `);r.textContent="",r.classList.remove(s),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,s=this._formElement.querySelector(t);this._checkIfFormValid()?(s.disabled=!1,s.classList.remove(e)):(s.disabled=!0,s.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const i=document.querySelector(".profile__edit-button"),n=document.forms.profile,o=(n.elements.name,n.elements.job,document.querySelector(".modal__close-button_type_edit"),document.querySelector(".modal_type_avatar")),a=(document.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),l=document.querySelector(".modal_type_add-card"),d=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),c=(d.elements.title,d.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector(".modal_type_big-image"),document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),{formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"});class _{constructor(e){this._modalElement=document.querySelector(e)}_checkForEscClose=e=>{"Escape"===e.key&&this.close()};open=()=>{this._modalElement.classList.add("modal_visible"),document.addEventListener("keyup",this._checkForEscClose)};close=()=>{this._modalElement.classList.remove("modal_visible"),document.removeEventListener("keyup",this._checkForEscClose)};setEventListeners(){this._modalElement.querySelector(".modal__close-button").addEventListener("click",(e=>{this.close(e)})),this._modalElement.addEventListener("click",(e=>{e.target.classList.contains("modal_visible")&&this.close(e)}))}}class m extends _{constructor(e,t){super(e),this._handleSubmitBtn=t,this._formElement=this._modalElement.querySelector(".modal__container")}getInputValues(){const e=Array.from(this._formElement.querySelectorAll(".modal__input")),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setInputValues(e){Array.from(this._formElement.querySelectorAll(".modal__input")).forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",(()=>{this._handleSubmitBtn(this.getInputValues()),this.close(),this._formElement.reset()}))}close(){super.close(),this._formElement.reset()}}class u extends _{constructor(e,t){super(e),this._form=document.querySelector(this._selector),this._handleSubmit=t,this._handleSubmitHandler=this._handleSubmitHandler.bind(this)}_handleSubmitHandler(e){e.preventDefault(),this._handleSubmit(),super.close()}_setEventListeners(){super._setEventListeners(),this._form.addEventListener("submit",this._handleSubmitHandler)}_removeEventListeners(){super._removeEventListeners(),this._form.removeEventListener("submit",this._handleSubmitHandler)}}const h=new class extends _{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(".modal_type_big-image");new m(".modal_type_delete-card").setEventListeners();const p=new class{constructor({items:e,renderer:t},s){this._items=e,this._renderer=t,this._container=document.querySelector(s)}addItem(e){this._container.prepend(e)}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}}((e=>{p.addItem(function(e){const r=new s({data:e,user:S,cardSelector:".cards__grid",handleCardClick:e=>{e.preventDefault();const t=e.target,s=t.src,r=t.alt;h.open(s,r),h.setEventListeners()},handleDeleteCard:e=>{u.open(),u.setAction((()=>t.deleteCard(e).then((e=>{r.deleteCard(),u.close()})).catch((e=>console.log(e)))))},handleLikes:e=>{r.isLiked()?t.removeLike(e).then((e=>{r.updateLikes(e.likes)})).catch((e=>console.log(e))):t.addLike(e).then((e=>{r.updateLikes(e.likes)})).catch((e=>console.log(e)))}});return r.generateCard()}(e))}),".cards__grid"),b=new class{constructor({name:e,job:t,avatar:s}){this._name=document.querySelector(`${e}`),this._job=document.querySelector(`${t}`),this._avatar=document.querySelector(`${s}`),this.setUserInfo=this.setUserInfo.bind(this)}getUserInfo(){const e={};return e.userName=this._name.textContent,e.userJob=this._job.textContent,e}setUserInfo(e){this._name.textContent=e.name,this._job.textContent=e.job}setUserAvatar({avatar:e}){this._avatar.style.backgroundImage=`url('${e}')`}}({name:".profile__title",about:".profile__subtitle",avatar:".profile__image"});t.getUserInfo().then((e=>{b.setUserInfo(e),S=e._id,b.setUserAvatar(e.avatar)})).catch((e=>console.log(e))),t.getInitialCards().then((e=>{p.renderItems(e)})).catch((e=>console.log(e)));const v=new m(".modal_type_edit",(()=>{b.setUserInfo(v.getInputValues()),v.close()}));v.setEventListeners(),i.addEventListener("click",(()=>{v.setInputValues(b.getUserInfo()),y.resetValidation(),v.open()}));const E=new m(".modal_type_add-card",(()=>{const e=E.getInputValues();p.addItem(generateCard(e)),E.close()}));E.setEventListeners(),a.addEventListener("click",(()=>{g.resetValidation(),E.open()}));const y=new r(c,n);y.enableValidation(),new r(c,o).enableValidation();const g=new r(c,l);let S;g.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUk1QjNLLEVBQUlJLGtCQUFrQlgsTUFBTUMsSUFDMUI2SixFQUFhWSxZQUFZekssTUFFMUJnTCxPQUFPQyxHQUFRQyxRQUFRQyxJQUFJRixLQUs1QixNQUFNZSxFQUFrQixJQUFJekQsRUFBYyxvQkFBb0IsS0FDNUQrQyxFQUFlRyxZQUFZTyxFQUFnQnJELGtCQUMzQ3FELEVBQWdCL0QsV0FJbEIrRCxFQUFnQjVELG9CQUdoQmxCLEVBQVcxQyxpQkFBaUIsU0FBUyxLQUNuQ3dILEVBQWdCakQsZUFBZXVDLEVBQWV6SyxlQUM5Q29MLEVBQXNCcEcsa0JBQ3RCbUcsRUFBZ0I5RCxVQUtsQixNQUFNVCxFQUFjLElBQUljLEVBQWMsd0JBQXdCLEtBQzVELE1BQU0yRCxFQUFVekUsRUFBWWtCLGlCQUM1QmtCLEVBQWFPLFFBQVF4RixhQUFhc0gsSUFDbEN6RSxFQUFZUSxXQUlkUixFQUFZVyxvQkFHWmIsRUFBYy9DLGlCQUFpQixTQUFTLEtBQ3RDMkgsRUFBc0J0RyxrQkFDdEI0QixFQUFZUyxVQUtkLE1BQU0rRCxFQUF3QixJQUFJakgsRUFBY0MsRUFBWWtDLEdBQzVEOEUsRUFBc0JqRixtQkFHTyxJQUFJaEMsRUFBY0MsRUFBWW9DLEdBQ3RDTCxtQkFHckIsTUFBTW1GLEVBQXdCLElBQUluSCxFQUFjQyxFQUFZdUMsR0FJNUQsSUFBSW1ELEVBSEp3QixFQUFzQm5GLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvQXBpLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL01vZGFsLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxEZWxldGVDb25maXJtYXRpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9JbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZpcnN0Q2FsbCA9ICh1cmwsIGhlYWRlcnMpID0+IHtcclxuICByZXR1cm4gZmV0Y2godXJsLCBoZWFkZXJzKS50aGVuKChyZXMpID0+IHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICBQcm9taXNlLnJlamVjdChgRVJST1I6ICR7cmVzLnN0YXR1c1RleHR9YCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5jbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKGJhc2VVcmwsIGhlYWRlcnMpIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgLy8gKysrKysgRmV0Y2hpbmcgKysrKysgLy9cclxuICAvLyAtLS0gRmV0Y2ggSW5pdGlhbENhcmRzIGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmlyc3RDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gRmV0Y2ggVXNlckluZm8gZnJvbSB0aGUgc2VydmVyIC0tLSAvL1xyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZpcnN0Q2FsbChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gKysrKysgQWRkaW5nL0VkaXRpbmcvUmVtb3ZpbmcgZGF0YSArKysrKyAvL1xyXG4gIC8vID09PT09IFByb2ZpbGUgPT09PT0gLy9cclxuICAvLyAtLS0gU2V0L1VwZGF0ZSB1c2VyIGF2YXRhciAtLS0gLy9cclxuICBzZXRVc2VyQXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmaXJzdENhbGwoYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcjogZGF0YS5saW5rLFxyXG4gICAgICB9KVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gU2V0L1VwZGF0ZSB1c2VyIGluZm8gLS0tIC8vXHJcbiAgc2VuZE5ld0RhdGEocHJvZmlsZSkge1xyXG4gICAgcmV0dXJuIGZpcnN0Q2FsbChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBwcm9maWxlLm5hbWUsXHJcbiAgICAgICAgam9iOiBwcm9maWxlLmpvYixcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vID09PT09IENhcmRzID09PT09IC8vXHJcbiAgLy8gLS0tIENyZWF0aW5nIGEgbmV3IGNhcmQgLS0tIC8vXHJcbiAgY3JlYXRlTmV3Q2FyZChjYXJkKSB7XHJcbiAgICByZXR1cm4gZmlyc3RDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogY2FyZC5uYW1lLFxyXG4gICAgICAgIGxpbms6IGNhcmQubGluayxcclxuICAgICAgfSksXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBSZW1vdmluZy9EZWxldGluZyBjYXJkIC0tLSAvL1xyXG4gIHJlbW92ZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmlyc3RDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gQWRkIGxpa2UgdG8gYSBjYXJkIC0tLSAvL1xyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmlyc3RDYWxsKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gUmVtb3ZlIGxpa2UgZnJvbSBhIGNhcmQgLS0tIC8vXHJcbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmaXJzdENhbGwoYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaShcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIiwge1xyXG4gIGF1dGhvcml6YXRpb246IFwiNzA5YTBkOWQtZGIwNi00ODkwLWE1OTQtYjA3ZTczMDlhMzUzXCIsXHJcbiAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbn0pO1xyXG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICB7IGNhcmREYXRhLCB1c2VyLCBvbkNhcmRDbGljaywgcmVtb3ZlSGFuZGxlciwgbGlrZUhhbmRsZXIgfSxcclxuICAgIGNhcmRTZWxlY3RvclxyXG4gICkge1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuICAgIHRoaXMuX2NhcmRJZCA9IGNhcmREYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVySWQgPSBjYXJkRGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl91c2VySUQgPSB1c2VyO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBjYXJkRGF0YS5saWtlcztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuXHJcbiAgICB0aGlzLl9vbkNhcmRDbGljayA9IG9uQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5fbGlrZUhhbmRsZXIgPSBsaWtlSGFuZGxlcjtcclxuICAgIHRoaXMuX3JlbW92ZUhhbmRsZXIgPSByZW1vdmVIYW5kbGVyO1xyXG4gIH1cclxuICAvLyAtLS0gR2V0dGluZyB0aGUgdGVtcGxhdGUgLS0tIC8vXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRfX3RlbXBsYXRlXCIpXHJcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgcmV0dXJuIGNhcmQ7XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gQ2FyZCBkZWxldGluZyBtZXRob2QgLS0tIC8vXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2l0ZW0ucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9pdGVtID0gbnVsbDtcclxuICB9XHJcblxyXG4gIF9yZW5kZXJMaWtlcygpIHtcclxuICAgIGlmICh0aGlzLmlzTGlrZWQoKSkge1xyXG4gICAgICB0aGlzLl9pdGVtXHJcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2l0ZW1cclxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5faXRlbS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRlclwiKS50ZXh0Q29udGVudCA9XHJcbiAgICAgIHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBDaGVjayBpZiBjYXJkIGxpa2VkIGJ5IGFub3RoZXIgdXNlciAtLS0gLy9cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2xpa2VzLnNvbWUoKHVzZXIpID0+IHVzZXIuX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIFRvZ2dsZSBsaWtlIGJ1dHRvbiBtZXRob2QgLS0tIC8vXHJcbiAgdXBkYXRlTGlrZXMobmV3TGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIFNldCBldmVudHMgbGlzdGVuZXJzIGZvciB0aGUgY2FyZHMgdGhhdCB3aWxsIGJlIGNyZWF0ZWQhIC0tLSAvL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2l0ZW1cclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLl9saWtlQ2FyZChldmVudCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2l0ZW1cclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVIYW5kbGVyKHRoaXMuX2NhcmRJZCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX29uQ2FyZENsaWNrKGV2ZW50KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIENyZWF0aW5nIHRoZSBjYXJkIGFuZCBjYXJkIGVsZW1lbnRzIC0tLSAvL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2l0ZW0gPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG5cclxuICAgIGlmICh0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fZWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgICAuY2xhc3NMaXN0LmFkZChcImNhcmRfX2RlbGV0ZS1idXR0b25faGlkZGVuXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2l0ZW0ucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBcIkltYWdlIG9mIFwiICsgYCAke3RoaXMuX25hbWV9IGA7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG5cclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtQ29uZmlnID0gZm9ybUNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIFxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yTWVzc2FnZUNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0lmRm9ybVZhbGlkID0gKCkgPT4gdGhpcy5pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gIF90b2dnbGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGVja0lmRm9ybVZhbGlkKCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgdGhpcy5pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xyXG5cclxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiLy8gLS0tICdFZGl0IHByb2ZpbGUnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LmZvcm1zLnByb2ZpbGU7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBwcm9maWxlTW9kYWwuZWxlbWVudHMubmFtZTtcclxuZXhwb3J0IGNvbnN0IGpvYklucHV0ID0gcHJvZmlsZU1vZGFsLmVsZW1lbnRzLmpvYjtcclxuZXhwb3J0IGNvbnN0IGVkaXRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfZWRpdCcpO1xyXG4vLyAtLS0gJ0F2YXRhclwiIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJNb2RhbElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2F2YXRhcicpXHJcbi8vIC0tLSAnQWRkLWNhcmQnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbGluaycpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9hZGQtY2FyZCcpO1xyXG4vLyAtLS0gJ0FkZC1DYXJkJyBmb3JtIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1UaXRlbCA9IGFkZENhcmRGb3JtLmVsZW1lbnRzLnRpdGxlO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1MaW5rID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMubGluaztcclxuLy8gLS0tIEdlbmVyYWwgY29uc3QgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3N1Ym1pdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19ncmlkJyk7XHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZS1jYXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2JpZy1pbWFnZScpO1xyXG4vLyAtLS0gRm9ybSBjb25maWcgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19jb250YWluZXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9lcnJvclwiLFxyXG4gIGVycm9yTWVzc2FnZUNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKG1vZGFsU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobW9kYWxTZWxlY3Rvcik7XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBFU0MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jaGVja0ZvckVzY0Nsb3NlID0gKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcbiAgLy8gLS0tIE9wZW4gbW9kYWwgbWV0aG9kIC0tLSAvLyBcclxuICBvcGVuID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2NoZWNrRm9yRXNjQ2xvc2UpO1xyXG4gIH1cclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgbWV0aG9kIC0tLSAvL1xyXG4gIGNsb3NlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2NoZWNrRm9yRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAvLyAtLS0gQ2xvc2UgbW9kYWwgb24gY2xvc2UoJ1gnKSBidXR0b24gLS0tIC8vXHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnRcclxuICAgIC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIilcclxuICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuY2xvc2UoZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBDbG9zZSBtb2RhbCBvbiBvdmVybGF5KG91dCBvZiB0aGUgbW9kYWwpIGNsaWNrIC0tLSAvLy9cclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfdmlzaWJsZVwiKSkge1xyXG4gICAgICAgIHRoaXMuY2xvc2UoZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEZvcm0gZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3IobW9kYWxTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICBzdXBlcihtb2RhbFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEJ0biA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2NvbnRhaW5lclwiKTtcclxuICB9XHJcblxyXG4gIGdldElucHV0VmFsdWVzKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcclxuICAgICk7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7aW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTt9KTtcclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKHZhbHVlcykge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIilcclxuICAgICk7XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtpbnB1dC52YWx1ZSA9IHZhbHVlc1tpbnB1dC5uYW1lXTt9KVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdEJ0bih0aGlzLmdldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiaW1wb3J0IE1vZGFsIGZyb20gJy4vTW9kYWwuanMnO1xyXG4gIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbERlbGV0ZUNvbmZpcm1hdGlvbiBleHRlbmRzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3RvciAoc2VsZWN0b3IsIGhhbmRsZVN1Ym1pdCkge1xyXG4gICAgc3VwZXIoc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0SGFuZGxlciA9IHRoaXMuX2hhbmRsZVN1Ym1pdEhhbmRsZXIuYmluZCh0aGlzKTtcclxuICB9XHJcbiAgXHJcbiAgX2hhbmRsZVN1Ym1pdEhhbmRsZXIgKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuICBcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdEhhbmRsZXIpO1xyXG4gIH1cclxuICBcclxuICBfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMgKCkge1xyXG4gICAgc3VwZXIuX3JlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZVN1Ym1pdEhhbmRsZXIpO1xyXG4gIH1cclxufSIsImltcG9ydCB7IGFwaSB9IGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvQXBpLmpzXCI7XHJcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIGVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZU1vZGFsLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgYWRkQ2FyZE1vZGFsLFxyXG4gIGF2YXRhck1vZGFsLFxyXG4gIGZvcm1Db25maWdcclxufSBmcm9tIFwiLi4vY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IE1vZGFsV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IE1vZGFsV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCBNb2RhbERlbGV0ZUNvbmZpcm1hdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL01vZGFsRGVsZXRlQ29uZmlybWF0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XHJcblxyXG4vLyAtLS0gQmlnIGltYWdlIG1vZGFsIGluc3RhbmNlIC0tLSAvL1xyXG5jb25zdCBiaWdJbWFnZU1vZGFsID0gbmV3IE1vZGFsV2l0aEltYWdlKFwiLm1vZGFsX3R5cGVfYmlnLWltYWdlXCIpO1xyXG5cclxuLy8gLS0tIERlbGV0ZSBjYXJkIG1vZGFsIGluc3RhbmNlIGFuZCBldmVudHMgLS0tIC8vXHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKFwiLm1vZGFsX3R5cGVfZGVsZXRlLWNhcmRcIik7XHJcbmRlbGV0ZUNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuLy8gKysrKysgQ2FyZCBTZWN0aW9uICsrKysrIC8vXHJcbi8vIC0tLSBDYXJkIHJlbmRlciBmdW5jdGlvbiAtLS0gLy9cclxuZnVuY3Rpb24gY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKHtcclxuICAgIGRhdGE6IGRhdGEsXHJcbiAgICB1c2VyOiB1c2VySWQsXHJcbiAgICBjYXJkU2VsZWN0b3I6IFwiLmNhcmRzX19ncmlkXCIsXHJcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChldnQpID0+IHtcclxuICAgICAgLy8gLS0tIE9wZW4gYmlnIGltYWdlIG1vZGFsIC0tLSAvL1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldDtcclxuICAgICAgY29uc3QgbGluayA9IHRhcmdldC5zcmM7XHJcbiAgICAgIGNvbnN0IG5hbWUgPSB0YXJnZXQuYWx0O1xyXG4gICAgICBiaWdJbWFnZU1vZGFsLm9wZW4obGluaywgbmFtZSk7XHJcbiAgICAgIGJpZ0ltYWdlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVEZWxldGVDYXJkOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgIE1vZGFsRGVsZXRlQ29uZmlybWF0aW9uLm9wZW4oKTtcclxuICAgICAgTW9kYWxEZWxldGVDb25maXJtYXRpb24uc2V0QWN0aW9uKCgpID0+XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZElkKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNhcmQuZGVsZXRlQ2FyZCgpO1xyXG4gICAgICAgICAgTW9kYWxEZWxldGVDb25maXJtYXRpb24uY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICApO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUxpa2VzOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgIGNvbnN0IGlzTGlrZWQgPSBjYXJkLmlzTGlrZWQoKTtcclxuICAgICAgaWYgKGlzTGlrZWQpIHtcclxuICAgICAgICBhcGkucmVtb3ZlTGlrZShjYXJkSWQpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgY2FyZC51cGRhdGVMaWtlcyhyZXMubGlrZXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgIH0gXHJcbiAgICAgIGVsc2Uge1xyXG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLnVwZGF0ZUxpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9KTtcclxuICAvLyAtLS0gQ2xvbmUgZnJvbSB0ZW1wbGF0ZSAtLS0gLy9cclxuICBjb25zdCBjYXJkc0l0ZW0gPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkc0l0ZW07XHJcbn1cclxuXHJcbmNvbnN0IGNhcmRzU2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxyXG4gIChpdGVtKSA9PiB7XHJcbiAgICBjYXJkc1NlY3Rpb24uYWRkSXRlbShjcmVhdGVDYXJkKGl0ZW0pKTtcclxuICB9LFxyXG4gIFwiLmNhcmRzX19ncmlkXCJcclxuKTtcclxuXHJcbi8vICsrKysrICdVc2VyIEluZm8nICsrKysrIC8vXHJcbi8vIC0tLSBVc2VySW5mbyBpbnN0YW5jZSAtLS0gLy9cclxuY29uc3QgdXNlckluZm9WYWx1ZXMgPSBuZXcgVXNlckluZm8oe1xyXG4gIG5hbWU6IFwiLnByb2ZpbGVfX3RpdGxlXCIsXHJcbiAgYWJvdXQ6IFwiLnByb2ZpbGVfX3N1YnRpdGxlXCIsXHJcbiAgYXZhdGFyOiBcIi5wcm9maWxlX19pbWFnZVwiLFxyXG59KTtcclxuLy8gLS0tIFVzZXJJbmZvIGluaXQgLS0tIC8vXHJcbmFwaS5nZXRVc2VySW5mbygpLnRoZW4oKHJlcykgPT4ge1xyXG4gIHVzZXJJbmZvVmFsdWVzLnNldFVzZXJJbmZvKHJlcyk7XHJcbiAgdXNlcklkID0gcmVzLl9pZDtcclxuICB1c2VySW5mb1ZhbHVlcy5zZXRVc2VyQXZhdGFyKHJlcy5hdmF0YXIpO1xyXG59KVxyXG4uY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcblxyXG4vLyArKysrKyBDYXJkIGxpc3QgKysrKysgLy9cclxuLy8gLS0tIENhcmRzIGluaXQgLS0tIC8vXHJcbmFwaS5nZXRJbml0aWFsQ2FyZHMoKS50aGVuKChyZXMpID0+IHtcclxuICBjYXJkc1NlY3Rpb24ucmVuZGVySXRlbXMocmVzKTtcclxufSlcclxuLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuLy8gKysrKysgRm9ybXMgKysrKysgLy9cclxuLy8gPT09ICdFZGl0IHByb2ZpbGUnIGZvcm0gPT09IC8vXHJcbi8vIC0tLSBGb3JtIGNyZWF0aW9uIG1ldGhvZCAtLS0gLy9cclxuY29uc3QgZWRpdFByb2ZpbGVGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oXCIubW9kYWxfdHlwZV9lZGl0XCIsICgpID0+IHtcclxuICB1c2VySW5mb1ZhbHVlcy5zZXRVc2VySW5mbyhlZGl0UHJvZmlsZUZvcm0uZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgZWRpdFByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuLy8gLS0tIFNldCBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBmb3JtIC0tLSAvL1xyXG5lZGl0UHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIC0tLSBTZXQgdmFsdWVzIGFuZCBvcGVuIHRoZSBmb3JtIC0tLSAvL1xyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdFByb2ZpbGVGb3JtLnNldElucHV0VmFsdWVzKHVzZXJJbmZvVmFsdWVzLmdldFVzZXJJbmZvKCkpXHJcbiAgcHJvZmlsZUZvcm1WYWxpZGF0aW9uLnJlc2V0VmFsaWRhdGlvbigpO1xyXG4gIGVkaXRQcm9maWxlRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gPT09ICdBZGQgY2FyZCcgZm9ybSA9PT0gLy9cclxuLy8gLS0tIEZvcm0gY3JlYXRpb24gbWV0aG9kIC0tLSAvL1xyXG5jb25zdCBhZGRDYXJkRm9ybSA9IG5ldyBNb2RhbFdpdGhGb3JtKFwiLm1vZGFsX3R5cGVfYWRkLWNhcmRcIiwgKCkgPT4ge1xyXG4gIGNvbnN0IG5ld0NhcmQgPSBhZGRDYXJkRm9ybS5nZXRJbnB1dFZhbHVlcygpO1xyXG4gIGNhcmRzU2VjdGlvbi5hZGRJdGVtKGdlbmVyYXRlQ2FyZChuZXdDYXJkKSk7XHJcbiAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxufSk7XHJcblxyXG4vLyAtLS0gU2V0IGV2ZW50IGxpc3RlbmVycyBmb3IgJ2FkZCBjYXJkJyBtb2RhbCAtLS0gLy9cclxuYWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vIC0tLSBPcGVuICdBZGQgQ2FyZCcgZm9ybSAtLS0gLy9cclxuYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICBhZGRDYXJkRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG5cclxuLy8gKysrKysgVmFsaWRhdGlvbiArKysrKyAvL1xyXG4vLyAtLS0gJ0VkaXQgcHJvZmlsZScgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgcHJvZmlsZUZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgcHJvZmlsZU1vZGFsKTtcclxucHJvZmlsZUZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIGF2YXRhck1vZGFsKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuLy8gLS0tICdBZGQgY2FyZCcgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgYWRkQ2FyZE1vZGFsKTtcclxuYWRkQ2FyZEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vIC0tLSBTdG9yZSB1c2VyIElEIC0tLSAvL1xyXG5sZXQgdXNlcklkOyIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgLy8gLS0tIE9wZW4gYmlnIGltYWdlIG1vZGFsIG1ldGhvZCAtLS0gLy9cclxuICBvcGVudXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGJpZ0ltYWdlID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JpZy1pbWFnZVwiKS5zcmMgPSBiaWdJbWFnZS5zcmM7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLmFsdCA9IGJpZ0ltYWdlLmFsdDtcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpLnRleHRDb250ZW50ID0gYmlnSW1hZ2UuYWx0O1xyXG5cclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNsZWFyICgpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgXHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcigge25hbWUsIGpvYiwgYXZhdGFyfSApIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke25hbWV9YCk7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAke2pvYn1gKTtcclxuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCR7YXZhdGFyfWApO1xyXG4gICAgdGhpcy5zZXRVc2VySW5mbyA9IHRoaXMuc2V0VXNlckluZm8uYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgY29uc3QgdXNlckluZm8gPSB7fTtcclxuICAgIHVzZXJJbmZvLnVzZXJOYW1lID0gdGhpcy5fbmFtZS50ZXh0Q29udGVudDtcclxuICAgIHVzZXJJbmZvLnVzZXJKb2IgPSB0aGlzLl9qb2IudGV4dENvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIHVzZXJJbmZvO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGRhdGEuam9iO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcigge2F2YXRhcn0gKSB7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHthdmF0YXJ9JylgO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiZmlyc3RDYWxsIiwidXJsIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiYXBpIiwiY29uc3RydWN0b3IiLCJiYXNlVXJsIiwidGhpcyIsImdldEluaXRpYWxDYXJkcyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJkYXRhIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJsaW5rIiwic2VuZE5ld0RhdGEiLCJwcm9maWxlIiwibmFtZSIsImpvYiIsImNyZWF0ZU5ld0NhcmQiLCJjYXJkIiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwiYXV0aG9yaXphdGlvbiIsIkNhcmQiLCJjYXJkRGF0YSIsInVzZXIiLCJvbkNhcmRDbGljayIsInJlbW92ZUhhbmRsZXIiLCJsaWtlSGFuZGxlciIsImNhcmRTZWxlY3RvciIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZElkIiwiX2lkIiwiX293bmVySWQiLCJvd25lciIsIl91c2VySUQiLCJfbGlrZXMiLCJsaWtlcyIsIl9jYXJkU2VsZWN0b3IiLCJfb25DYXJkQ2xpY2siLCJfbGlrZUhhbmRsZXIiLCJfcmVtb3ZlSGFuZGxlciIsIl9nZXRUZW1wbGF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJkZWxldGVDYXJkIiwiX2l0ZW0iLCJyZW1vdmUiLCJfcmVuZGVyTGlrZXMiLCJpc0xpa2VkIiwiY2xhc3NMaXN0IiwiYWRkIiwidGV4dENvbnRlbnQiLCJsZW5ndGgiLCJzb21lIiwiX3VzZXJJZCIsInVwZGF0ZUxpa2VzIiwibmV3TGlrZXMiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJfbGlrZUNhcmQiLCJfY2FyZEltYWdlIiwiZ2VuZXJhdGVDYXJkIiwiX2VsZW1lbnQiLCJzcmMiLCJhbHQiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2Zvcm1Db25maWciLCJfZm9ybUVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2VDbGFzcyIsImVycm9yRWxlbWVudCIsImlkIiwiX2hpZGVJbnB1dEVycm9yIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRzIiwiZm9yRWFjaCIsImlucHV0IiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsIl9jaGVja0lucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NoZWNrSWZGb3JtVmFsaWQiLCJldmVyeSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsImlucHV0U2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW5hYmxlVmFsaWRhdGlvbiIsInByZXZlbnREZWZhdWx0IiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVNb2RhbCIsImZvcm1zIiwiYXZhdGFyTW9kYWwiLCJlbGVtZW50cyIsImFkZENhcmRCdXR0b24iLCJhZGRDYXJkTW9kYWwiLCJhZGRDYXJkRm9ybSIsInRpdGxlIiwiZm9ybVNlbGVjdG9yIiwiTW9kYWwiLCJtb2RhbFNlbGVjdG9yIiwiX21vZGFsRWxlbWVudCIsIl9jaGVja0ZvckVzY0Nsb3NlIiwia2V5IiwiY2xvc2UiLCJvcGVuIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJNb2RhbFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0QnRuIiwiZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dExpc3QiLCJpbnB1dFZhbHVlcyIsInZhbHVlIiwic2V0SW5wdXRWYWx1ZXMiLCJ2YWx1ZXMiLCJyZXNldCIsIk1vZGFsRGVsZXRlQ29uZmlybWF0aW9uIiwic2VsZWN0b3IiLCJfZm9ybSIsIl9zZWxlY3RvciIsIl9oYW5kbGVTdWJtaXQiLCJfaGFuZGxlU3VibWl0SGFuZGxlciIsImJpbmQiLCJfcmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJiaWdJbWFnZU1vZGFsIiwib3BlbnVwIiwiYmlnSW1hZ2UiLCJjYXJkc1NlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2xlYXIiLCJpbm5lckhUTUwiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJ1c2VySWQiLCJoYW5kbGVDYXJkQ2xpY2siLCJldnQiLCJoYW5kbGVEZWxldGVDYXJkIiwic2V0QWN0aW9uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlTGlrZXMiLCJjcmVhdGVDYXJkIiwidXNlckluZm9WYWx1ZXMiLCJfam9iIiwiX2F2YXRhciIsInNldFVzZXJJbmZvIiwidXNlckluZm8iLCJ1c2VyTmFtZSIsInVzZXJKb2IiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsImFib3V0IiwiZWRpdFByb2ZpbGVGb3JtIiwicHJvZmlsZUZvcm1WYWxpZGF0aW9uIiwibmV3Q2FyZCIsImFkZENhcmRGb3JtVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=