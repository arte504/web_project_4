!function(){"use strict";var e={d:function(t,r){for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b7:function(){return h},ED:function(){return _},rC:function(){return d}});class t{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:r,errorMessageClass:s}=this._formConfig,n=this._formElement.querySelector(` #${e.id}_error `);n.textContent=t,n.classList.add(s),e.classList.add(r)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:r}=this._formConfig,s=this._formElement.querySelector(` #${e.id}_error `);s.textContent="",s.classList.remove(r),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,r=this._formElement.querySelector(t);this._checkIfFormValid()?(r.disabled=!1,r.classList.remove(e)):(r.disabled=!0,r.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor(e,t,r,{onCardClick:s,removeHandler:n,likeHandler:o}){this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._id=e._id,this._cardTemplate=t,this._userId=r,this._onCardClick=s,this._likeHandler=o,this._removeHandler=n}_getTemplate(){return this._cardTemplate.querySelector(".card").cloneNode(!0)}_setAttributes(e,t){for(const r in t)e.setAttribute(r,t[r])}deleteCard(){const e=document.getElementById(id);e&&e.parentNode.removeChild(e),this._cardElement=null}_renderLikes(){this._likes.some((e=>e._id===this._userId?this.likeCard():this.unlikeCard()))}showLikes(e){this._cardElement.querySelector(".card__like-count").textContent=e}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._id)})),this._cardImage.addEventListener("click",(e=>{this._onCardClick(e)}))}_showDeleteIcon(){this._userId!=this._owner._id&&this._cardElement.querySelector(".card__delete-button").classList.add("card__delete-button_hidden")}isLiked(){return this.likeIcon.classList.contains("card__like-button_active")}generateCard(){return this._cardElement=this._getTemplate(),this.likeIcon=this._cardElement.querySelector(".card__like-button"),this._setAttributes(this._cardElement.querySelector(".card__image"),{src:this._image,alt:this._name}),this._cardElement.querySelector(".card__title").textContent=this.name,this._showDeleteIcon(),this.showLikes(this._likes.length),this._setEventListeners(),this._renderLikes(),this._cardElement}likeCard(){this.likeIcon.classList.add("card__like-button_active")}unlikeCard(){this.likeIcon.classList.remove("card__like-button_active")}}class s{constructor(e){this._modal=e}open(){this._modal.classList.add(".modal_visible"),this.setEventListeners()}close(){this._modal.classList.remove(".modal_visible"),this.removeEventListeners()}_clickEscHandler=e=>{"Escape"===e.key&&this.close()};_clickOnCloseButtonHandler=()=>{this.close()};_clickOnOverlayHandler=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._modal=document.querySelector(".modal__container_type_form"),this._modal.querySelector(".modal__close-button").addEventListener("click",this._clickOnCloseButtonHandler),this._modal.addEventListener("click",this._clickOnOverlayHandler),document.addEventListener("keydown",this._clickEscHandler)}removeEventListeners(){this._modal=document.querySelector(".modal__container_type_form"),this._modal.querySelector(".modal__close-button").removeEventListener("click",this._clickOnCloseButtonHandler),this._modal.removeEventListener("click",this._clickOnOverlayHandler),document.removeEventListener("keydown",this._clickEscHandler)}}class n extends s{constructor({modal:e,handleSubmit:t}){super(e),this._handleSubmit=t,this._form=document.querySelector(".modal__container_type_form"),this._formElement=this._form.querySelectorAll(".modal__input")}_getInputValues(){return this._formInputValues={},inputList.forEach((e=>{this._formInputValues[e.name]=e.value})),inputValues}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this.handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._form.removeEventListener("submit",this.handleSubmit)}handleSubmit=e=>(e.preventDefault(),this._handleSubmit(this._getInputValues));handleRemove(e){this._handleSubmit=e}close(){super.close(),this._form.reset()}}class o{constructor({items:e,renderer:t},r){this._renderedElements=e,this._renderer=t,this._container=document.querySelector(r)}addItem(e){this._container.append(e)}renderElements(){this._renderedElements.forEach((e=>{this._renderer(e)}))}prependItem(e){this._container.prepend(e)}}class i{constructor(e,t,r){this._name=e,this._job=t,this._avatar=r}getUserInfo(){return this._userInfo={title:this._name.textContent,job:this._job.textContent}}setUserInfo(e,t,r){this._userInfo={title:e,job:t,userAvatar:r},r?(h.src=this._userInfo.userAvatar,d.textContent=this._userInfo.title,_.textContent=this._userInfo.job):(d.textContent=this._userInfo.title,_.textContent=this._userInfo.job)}}const a=document.querySelector(".profile__edit-button"),l=document.querySelector(".modal_type_edit"),d=document.querySelector(".profile__title"),c=document.querySelector(".modal__input_type_title"),_=document.querySelector(".profile__subtitle"),u=document.querySelector(".modal__input_type_subtitle"),h=(document.querySelector(".modal__close-button_type_edit"),document.querySelector(".profile__image")),m=document.querySelector(".profile__image-edit"),p=document.querySelector(".modal_type_avatar"),f=(p.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),b=document.querySelector(".modal_type_add-card"),v=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),y=(v.elements.title,v.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector(".modal_type_big-image")),E=(document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),document.querySelector(".modal_type_delete-card")),k={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"},S=new class extends s{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(y);S.setEventListeners();const g=new n({modal:E});function C(e,t){t.querySelector(".modal__submit-button").textContent=e?"Saving...":"Save"}g.setEventListeners();const L=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getCardList(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json().then((e=>e));Promise.reject("Error!"+e.statusText)}))}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getCardList()])}addCard(e){const{name:t,link:r}=e;return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:t,link:r})}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeCard(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}likeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}unlikeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}setUserInfo(e){const{name:t,job:r}=e;return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,job:r})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText+e.status)))}setUserAvatar({avatar:e}){return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}updateUserInfo(e){const{name:t,job:r}=e;return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:t,job:r})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"}});L.getAppInfo().then((([e,t])=>{const s=new i(d,_,h);s.setUserInfo(t);const m=e=>{const t=new r(e,cardTemplate,user._id,{onCardClick:({name:e,link:t})=>{S.open(t,e)},removeHandler:e=>{g.open(),g.handleRemove((()=>{L.removeCard(e).then((()=>{t.deleteCardModal(),g.close()})).catch((e=>console.log(e)))}))},likeHandler:e=>{t.isLiked()?L.unlikeCard(e).then((e=>{t.unlikeCard(),t.showLikes(e.likes.lenght)})):L.likeCard(e).then((e=>{t.unlikeCard(),t.showLikes(e.likes.lenght)})).catch((e=>console.log(e)))}});return t},v=new o({items:e,renderer:e=>{v.addItem(m(e).generateCard())}},".cards__grid");console.log(e),v.renderElements();const y=new n({modal:b,handleSubmit:e=>{C(!0,b),L.addCard(e).then((e=>{v.prependItem(m(e).generateCard())})).then((()=>{y.close()})).catch((e=>console.log(e))).finally((()=>C(!1,b)))}});f.addEventListener("click",(()=>{j.resetValidation(),addNewCardModal.open()})),addNewCardModal.setEventListeners();const E=new n({modal:l,handleSubmit:e=>{C(!0,l),L.updateUserInfo(i).then((e=>{s.setUserInfo(e)})).then((()=>{E.close()})).catch((e=>console.log(e))).finally((()=>C(!1,l)))}});a.addEventListener("click",(()=>{q.resetValidation();const{name:e,job:t}=s.getUserInfo();c.value=e,u.value=t,E.open()}));const k=new n({modal:p,handleSubmit:e=>{C(!0,p),L.updateUserInfo(e.avatar).then((e=>{s.setUserInfo(e)})).then((()=>{k.close()})).catch((e=>console.log(e))).finally((()=>{C(!1,p)}))}})})).catch((e=>console.log(e)));const I=new n({modalSelector:p,modalSubmition:e=>{!function(e){C(!0,p),L.setUserAvatar({avatar:e.avatarURL}).then((e=>{h.src=e.avatar,C(!1,p),I.close()})).catch((e=>console.log(e)))}(e)}});m.addEventListener("click",(()=>{I.open()})),I.setEventListeners();const q=new t(k,l);q.enableValidation(),new t(k,p).enableValidation();const j=new t(k,b);j.enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWwuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9wYWdlcy9JbmRleC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIGRlZmluaXRpb24pIHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqLCBwcm9wKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTsgfSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGZvcm1Db25maWcsIGZvcm1FbGVtZW50KSB7XHJcbiAgICB0aGlzLl9mb3JtQ29uZmlnID0gZm9ybUNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5wdXRFcnJvckNsYXNzKTtcclxuICB9O1xyXG4gIFxyXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRFcnJvckNsYXNzLCBlcnJvck1lc3NhZ2VDbGFzcyB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCAjJHtpbnB1dEVsZW1lbnQuaWR9X2Vycm9yIGApO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGVycm9yTWVzc2FnZUNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0ID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9jaGVja0lmRm9ybVZhbGlkID0gKCkgPT4gdGhpcy5pbnB1dHMuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCk7XHJcblxyXG4gIF90b2dnbGVTdWJtaXRCdXR0b24oKSB7XHJcbiAgICBjb25zdCB7IGluYWN0aXZlQnV0dG9uQ2xhc3MsIHN1Ym1pdEJ1dHRvblNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG5cclxuICAgIGlmICh0aGlzLl9jaGVja0lmRm9ybVZhbGlkKCkpIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzID0gKCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgdGhpcy5pbnB1dHMgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoaW5wdXRTZWxlY3RvcikpO1xyXG5cclxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dChpbnB1dCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybUVsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLCBjYXJkVGVtcGxhdGUsIHVzZXJJZCwgXHJcbiAgICB7IG9uQ2FyZENsaWNrLCByZW1vdmVIYW5kbGVyLCBsaWtlSGFuZGxlciB9XHJcbiAgKSBcclxuICB7XHJcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcblxyXG4gICAgdGhpcy5fb25DYXJkQ2xpY2sgPSBvbkNhcmRDbGljaztcclxuICAgIHRoaXMuX2xpa2VIYW5kbGVyID0gbGlrZUhhbmRsZXI7XHJcbiAgICB0aGlzLl9yZW1vdmVIYW5kbGVyID0gcmVtb3ZlSGFuZGxlcjtcclxuICB9XHJcbiAgLy8gLS0tIEdldCBjYXJkIHRlbXBsYXRlIC0tLSAvL1xyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gdGhpcy5fY2FyZFRlbXBsYXRlXHJcbiAgICAucXVlcnlTZWxlY3RvcignLmNhcmQnKVxyXG4gICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0QXR0cmlidXRlcyhjYXJkRWxlbWVudCwgYXR0cmlicykge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlicykge1xyXG4gICAgICBjYXJkRWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJzW2tleV0pO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyAtLS0gQ2FyZCBkZWxldGluZyBtZXRob2QgLS0tIC8vXHJcbiAgZGVsZXRlQ2FyZCgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYoY2FyZEVsZW1lbnQpe1xyXG4gICAgICBjYXJkRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGNhcmRFbGVtZW50KTtcclxuICAgIH1cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcclxuICB9XHJcbiAgLy8gLS0tICAtLS0gLy9cclxuICBfcmVuZGVyTGlrZXMgKCkge1xyXG4gICAgdGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gXHJcbiAgICAgIGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQgPyB0aGlzLmxpa2VDYXJkKCkgOiB0aGlzLnVubGlrZUNhcmQoKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIFNob3cgdGhlIGxpa2UgYW1vdW50IC0tLSAvL1xyXG4gIHNob3dMaWtlcyhjb3VudCl7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIikudGV4dENvbnRlbnQgPSBjb3VudDtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBTZXQgZXZlbnRzIGxpc3RlbmVycyBmb3IgdGhlIGNhcmRzIHRoYXQgd2lsbCBiZSBjcmVhdGVkISAtLS0gLy9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VDYXJkKGV2ZW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVIYW5kbGVyKHRoaXMuX2lkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5fb25DYXJkQ2xpY2soZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0RlbGV0ZUljb24oKSB7XHJcbiAgICBpZih0aGlzLl91c2VySWQgIT0gdGhpcy5fb3duZXIuX2lkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fZGVsZXRlLWJ1dHRvbl9oaWRkZW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5saWtlSWNvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIENyZWF0aW5nIHRoZSBjYXJkIGFuZCBjYXJkIGVsZW1lbnRzIC0tLSAvL1xyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMubGlrZUljb24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcclxuICAgIHRoaXMuX3NldEF0dHJpYnV0ZXModGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKSwge1xyXG4gICAgICBzcmM6IHRoaXMuX2ltYWdlLFxyXG4gICAgICBhbHQ6IHRoaXMuX25hbWVcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJykudGV4dENvbnRlbnQgPSB0aGlzLm5hbWU7XHJcblxyXG4gICAgdGhpcy5fc2hvd0RlbGV0ZUljb24oKTtcclxuICAgIHRoaXMuc2hvd0xpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZCgpIHtcclxuICAgIHRoaXMubGlrZUljb24uY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgfVxyXG5cclxuICB1bmxpa2VDYXJkKCkge1xyXG4gICAgdGhpcy5saWtlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKG1vZGFsKSB7XHJcbiAgICB0aGlzLl9tb2RhbCA9IG1vZGFsO1xyXG4gIH1cclxuICAvLyAtLS0gT3BlbiBtb2RhbCBtZXRob2QgLS0tIC8vIFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QuYWRkKFwiLm1vZGFsX3Zpc2libGVcIik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBtZXRob2QgLS0tIC8vXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwiLm1vZGFsX3Zpc2libGVcIik7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcbiAgLy8gLS0tIENsb3NlIG1vZGFsIG9uIEVTQyBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrRXNjSGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBjbG9zZSgnWCcpIGJ1dHRvbiBwcmVzcyBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfTtcclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgb24gb3ZlcmxheSBtb3VzZSBjbGljayBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrT25PdmVybGF5SGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY29udGFpbmVyX3R5cGVfZm9ybScpO1xyXG4gICAgdGhpcy5fbW9kYWxcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uJylcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tPbkNsb3NlQnV0dG9uSGFuZGxlcik7XHJcbiAgICB0aGlzLl9tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25PdmVybGF5SGFuZGxlcilcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbGlja0VzY0hhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY29udGFpbmVyX3R5cGVfZm9ybScpO1xyXG4gICAgdGhpcy5fbW9kYWxcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uJylcclxuICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tPbkNsb3NlQnV0dG9uSGFuZGxlcik7XHJcbiAgICB0aGlzLl9tb2RhbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25PdmVybGF5SGFuZGxlcilcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbGlja0VzY0hhbmRsZXIpO1xyXG4gIH1cclxufSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoRm9ybSBleHRlbmRzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcih7bW9kYWwsIGhhbmRsZVN1Ym1pdH0pIHtcclxuICAgIHN1cGVyKG1vZGFsKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NvbnRhaW5lcl90eXBlX2Zvcm0nKTtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2lucHV0Jyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtSW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+e1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0gdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSZW1vdmUoaGFuZGxlKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGU7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkRWxlbWVudHMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckVsZW1lbnRzKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRFbGVtZW50cy5mb3JFYWNoKChpdGVtKSA9PiB7IHRoaXMuX3JlbmRlcmVyKGl0ZW0pIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJlcGVuZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7cHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIGF2YXRhckltYWdlfSBmcm9tICcuLi8uLi9wYWdlcy9JbmRleC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZSwgam9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iID0gam9iO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuX3VzZXJJbmZvID0ge1xyXG4gICAgICB0aXRsZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odGl0bGUsIGpvYiwgdXNlckF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB7IHRpdGxlLCBqb2IsIHVzZXJBdmF0YXIgfTtcclxuICAgIGlmICh1c2VyQXZhdGFyKSB7XHJcbiAgICAgIGF2YXRhckltYWdlLnNyYyA9IHRoaXMuX3VzZXJJbmZvLnVzZXJBdmF0YXI7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8udGl0bGU7XHJcbiAgICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby5qb2I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLnRpdGxlO1xyXG4gICAgICBwcm9maWxlSm9iLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8uam9iO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyAtLS0gJ0VkaXQgcHJvZmlsZScgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV90aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfc3VidGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfZWRpdCcpO1xyXG4vLyAtLS0gJ0F2YXRhclwiIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJNb2RhbElucHV0ID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2F2YXRhcicpXHJcbi8vIC0tLSAnQWRkLWNhcmQnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbGluaycpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9hZGQtY2FyZCcpO1xyXG4vLyAtLS0gJ0FkZC1DYXJkJyBmb3JtIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1UaXRlbCA9IGFkZENhcmRGb3JtLmVsZW1lbnRzLnRpdGxlO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1MaW5rID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMubGluaztcclxuLy8gLS0tIEdlbmVyYWwgY29uc3QgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3N1Ym1pdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19ncmlkJyk7XHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZS1jYXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2JpZy1pbWFnZScpO1xyXG4vLyAtLS0gJ0RlbGV0ZSBjYXJkJyBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xyXG4vLyAtLS0gRm9ybSBjb25maWcgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19jb250YWluZXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9lcnJvclwiLFxyXG4gIGVycm9yTWVzc2FnZUNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0FwaS5qc1wiXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIG5hbWVJbnB1dCxcclxuICBwcm9maWxlSm9iLFxyXG4gIGpvYklucHV0LFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZU1vZGFsLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgYWRkQ2FyZE1vZGFsLFxyXG4gIGF2YXRhck1vZGFsLFxyXG4gIGF2YXRhckltYWdlLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgY2FyZEJpZ01vZGFsLFxyXG4gIGRlbGV0ZUNhcmQsXHJcbiAgZm9ybUNvbmZpZ1xyXG59IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy8gPT09PT0gTW9kYWxzID09PT09IC8vXHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgaW5zdGFuY2UgLS0tIC8vXHJcbmNvbnN0IGJpZ0ltYWdlID0gbmV3IE1vZGFsV2l0aEltYWdlKGNhcmRCaWdNb2RhbCk7XHJcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIC0tLSBEZWxldGUgY2FyZCBtb2RhbCBpbnN0YW5jZSBhbmQgZXZlbnRzIC0tLSAvL1xyXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XHJcbiAgbW9kYWw6IGRlbGV0ZUNhcmRcclxufSk7XHJcbmRlbGV0ZUNhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyAtLS0gVVggZm9yIG1vZGFscyAtLS0gLy9cclxuZnVuY3Rpb24gbG9hZGluZ01vZGFsKGlzTG9hZGluZywgbW9kYWwpIHtcclxuICBpZiAoaXNMb2FkaW5nKSB7IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiOyB9IFxyXG4gIGVsc2UgeyBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpLnRleHRDb250ZW50ID0gXCJTYXZlXCI7IH1cclxufVxyXG5cclxuLy8gPT09PT0gQVBJID09PT09IC8vXHJcbi8vIC0tLSBTZXR0aW5nIHRoZSBkZWZhdWx0IGZldGNoaW5nIHVybCBhbmQgdG9rZW4gLS0tIC8vXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xyXG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9ncm91cC0xMlwiLFxyXG4gIGhlYWRlcnM6IFxyXG4gIHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiNzA5YTBkOWQtZGIwNi00ODkwLWE1OTQtYjA3ZTczMDlhMzUzXCIsXHJcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIFxyXG4gIH1cclxufSk7XHJcbi8vIC0tLSBHZXRBcHBJbmZvIG1ldGhvZCAtLS0gLy9cclxuYXBpXHJcbiAgLmdldEFwcEluZm8oKVxyXG4gIC50aGVuKCAoW2NhcmRMaXN0LCB1c2VyRGF0YV0pID0+IHtcclxuICAgIC8vIC0tLSAnUHJvZmlsZScgaW5mbyBlZGl0aW5nIC0tLSAvL1xyXG4gICAgY29uc3QgcHJvZmlsZSA9IG5ldyBVc2VySW5mbyhwcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgYXZhdGFySW1hZ2UpO1xyXG4gICAgcHJvZmlsZS5zZXRVc2VySW5mbyh1c2VyRGF0YSk7XHJcbiAgICAvLyAtLS0gTmV3IGNhcmQgYWRkaW5nIC0tLSAvL1xyXG4gICAgY29uc3QgYWRkaW5nTmV3Q2FyZCA9IChkYXRhKSA9PntcclxuICAgICAgY29uc3QgY2FyZEluc3RhbmNlID0gbmV3IENhcmQoZGF0YSwgY2FyZFRlbXBsYXRlLCB1c2VyLl9pZCwge1xyXG4gICAgICAgIG9uQ2FyZENsaWNrOiAoe25hbWUsIGxpbmt9KSA9PiB7XHJcbiAgICAgICAgICBiaWdJbWFnZS5vcGVuKGxpbmssIG5hbWUpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlSGFuZGxlcjogKGNhcmRJZCkgPT4ge1xyXG4gICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oKTtcclxuICAgICAgICAgIGRlbGV0ZUNhcmRNb2RhbC5oYW5kbGVSZW1vdmUoKCkgPT4ge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAucmVtb3ZlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLmRlbGV0ZUNhcmRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBsaWtlSGFuZGxlcjogKGNhcmRJZCkgPT57XHJcbiAgICAgICAgICBjb25zdCBsaWtlVG9nZ2xlID0gY2FyZEluc3RhbmNlLmlzTGlrZWQoKTtcclxuICAgICAgICAgIGlmKGxpa2VUb2dnbGUpIHtcclxuICAgICAgICAgICAgYXBpXHJcbiAgICAgICAgICAgICAgLnVubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAgIC50aGVuKChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLnVubGlrZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMoY291bnQubGlrZXMubGVuZ2h0KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhcGlcclxuICAgICAgICAgICAgICAubGlrZUNhcmQoY2FyZElkKVxyXG4gICAgICAgICAgICAgIC50aGVuKChjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FyZEluc3RhbmNlLnVubGlrZUNhcmQoKTtcclxuICAgICAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMoY291bnQubGlrZXMubGVuZ2h0KTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gY2FyZEluc3RhbmNlO1xyXG4gICAgfTtcclxuICAgIC8vIC0tLSBDYXJkcyBzZWN0aW9uIGNyZWF0aW9uIC0tLSAvL1xyXG4gICAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgICBpdGVtczogY2FyZExpc3QsXHJcbiAgICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmRzTGlzdC5hZGRJdGVtKGFkZGluZ05ld0NhcmQoZGF0YSkuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgICB9XHJcbiAgICB9LCBcclxuICAgICcuY2FyZHNfX2dyaWQnKTtcclxuICAgIGNvbnNvbGUubG9nKGNhcmRMaXN0KTtcclxuICAgIC8vIC0tLSBSZW5kZXIgY2FyZHMgLS0tIC8vXHJcbiAgICBjYXJkc0xpc3QucmVuZGVyRWxlbWVudHMoKTtcclxuICAgIC8vIC0tLSBOZXcgY2FyZCBhZGRpbmcgZm9ybSAtLS0gLy9cclxuICAgIGNvbnN0IGFkZENhcmRGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgICBtb2RhbDogYWRkQ2FyZE1vZGFsLFxyXG4gICAgICBoYW5kbGVTdWJtaXQ6IChkYXRhKSA9PntcclxuICAgICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgYWRkQ2FyZE1vZGFsKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC5hZGRDYXJkKGRhdGEpXHJcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmRzTGlzdC5wcmVwZW5kSXRlbShhZGRpbmdOZXdDYXJkKHJlcykuZ2VuZXJhdGVDYXJkKCkpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgYWRkQ2FyZEZvcm0uY2xvc2UoKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgICAgIC5maW5hbGx5KCgpID0+IGxvYWRpbmdNb2RhbChmYWxzZSwgYWRkQ2FyZE1vZGFsKSk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIC8vIC0tLSBBZGQgY2FyZCBidXR0b24gZnVuY3Rpb25hbCBhZGRpbmcgLS0tIC8vXHJcbiAgICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgIGFkZENhcmRGb3JtVmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcclxuICAgICAgYWRkTmV3Q2FyZE1vZGFsLm9wZW4oKTtcclxuICAgIH0pO1xyXG4gICAgYWRkTmV3Q2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICAvLyAtLS0gUHJvZmlsZSBlZGl0IGZvcm0gLS0tIC8vXHJcbiAgICBjb25zdCBwcm9maWxlRm9ybSA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICAgICAgbW9kYWw6IHByb2ZpbGVNb2RhbCwgXHJcbiAgICAgIGhhbmRsZVN1Ym1pdDogKHVzZXJJbmZvKSA9PiB7XHJcbiAgICAgICAgbG9hZGluZ01vZGFsKHRydWUsIHByb2ZpbGVNb2RhbCk7XHJcbiAgICAgICAgYXBpXHJcbiAgICAgICAgLnVwZGF0ZVVzZXJJbmZvKFVzZXJJbmZvKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHByb2ZpbGUuc2V0VXNlckluZm8ocmVzKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgcHJvZmlsZUZvcm0uY2xvc2UoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4gbG9hZGluZ01vZGFsKGZhbHNlLHByb2ZpbGVNb2RhbCkpXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgLy8gLS0tIE9wZW4gJ1Byb2ZpbGUnIGZvcm0gd2l0aCBjdXJyZW50IHZhbHVlcyBhcyBpbnB1dHMgLS0tIC8vXHJcbiAgICBlZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICBwcm9maWxlRm9ybVZhbGlkYXRpb24ucmVzZXRWYWxpZGF0aW9uKCk7XHJcbiAgICAgIGNvbnN0IHsgbmFtZSwgam9iIH0gPSBwcm9maWxlLmdldFVzZXJJbmZvKCk7XHJcbiAgICAgIG5hbWVJbnB1dC52YWx1ZSA9IG5hbWU7XHJcbiAgICAgIGpvYklucHV0LnZhbHVlID0gam9iO1xyXG4gICAgICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgICB9KTtcclxuICAgIC8vIC0tLSAnQXZhdGFyJyBlZGl0L3VwZGF0ZSBmb3JtIC0tLSAvL1xyXG4gICAgY29uc3QgYXZhdGFyRm9ybSA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICAgICAgbW9kYWw6IGF2YXRhck1vZGFsLFxyXG4gICAgICBoYW5kbGVTdWJtaXQ6IChpbWdMaW5rKSA9PiB7XHJcbiAgICAgICAgbG9hZGluZ01vZGFsKHRydWUsIGF2YXRhck1vZGFsKTtcclxuICAgICAgICBhcGlcclxuICAgICAgICAgIC51cGRhdGVVc2VySW5mbyhpbWdMaW5rLmF2YXRhcilcclxuICAgICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgICAgcHJvZmlsZS5zZXRVc2VySW5mbyhyZXMpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgYXZhdGFyRm9ybS5jbG9zZSgpO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGF2YXRhck1vZGFsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbn0pXHJcbi5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbi8vID09PT09IEF2YXRhciA9PT09PSAvL1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBmdW5jdGlvbmFsIC0tLSAvL1xyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJFZGl0KGRhdGEpIHtcclxuICBsb2FkaW5nTW9kYWwodHJ1ZSwgYXZhdGFyTW9kYWwpO1xyXG4gIGFwaS5zZXRVc2VyQXZhdGFyKHtcclxuICAgIGF2YXRhcjogZGF0YS5hdmF0YXJVUkxcclxuICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBhdmF0YXJJbWFnZS5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBhdmF0YXJNb2RhbCk7XHJcbiAgICBlZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGNyZWF0aW9uIC0tLSAvL1xyXG5jb25zdCBlZGl0QXZhdGFyID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gIG1vZGFsU2VsZWN0b3I6IGF2YXRhck1vZGFsLFxyXG4gIG1vZGFsU3VibWl0aW9uOiAoZGF0YSkgPT4ge1xyXG4gICAgaGFuZGxlQXZhdGFyRWRpdChkYXRhKVxyXG4gIH1cclxufSk7XHJcbi8vIC0tLSBPcGVuIGF2YXRhciBlZGl0IG1vZGFsIG9uIGNsaWNrIC0tLSAvL1xyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdEF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBoYW5kbGVyIC0tLSAvL1xyXG5lZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyA9PT09PSBWYWxpZGF0aW9uID09PT09IC8vXHJcbi8vIC0tLSAnRWRpdCBwcm9maWxlJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBwcm9maWxlTW9kYWwpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhdmF0YXJNb2RhbCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy8gLS0tICdBZGQgY2FyZCcgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgYWRkQ2FyZE1vZGFsKTtcclxuYWRkQ2FyZEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmV4cG9ydCB7IHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBiaWdJbWFnZSwgYXZhdGFySW1hZ2UgfSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgLy8gLS0tIE9wZW4gYmlnIGltYWdlIG1vZGFsIG1ldGhvZCAtLS0gLy9cclxuICBvcGVudXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGJpZ0ltYWdlID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JpZy1pbWFnZVwiKS5zcmMgPSBiaWdJbWFnZS5zcmM7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLmFsdCA9IGJpZ0ltYWdlLmFsdDtcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpLnRleHRDb250ZW50ID0gYmlnSW1hZ2UuYWx0O1xyXG5cclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gR2V0dGluZyBpbmZvIGZyb20gc2VydmVyID09PSAvL1xyXG4gIC8vIC0tLSBHZXQgY2FyZCBsaXN0IGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRDYXJkTGlzdCgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gR2V0IHVzZXIgaW5mbyBmcm9tIHRoZSBzZXJ2ZXIgLS0tIC8vXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIENoZWNrIGlmIGFsbCBpbmZvIGZldGNoZWQgLS0tIC8vXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldENhcmRMaXN0KCldKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBBZGRpbmcvUmVtb3ZpbmcvRWRpdGluZyA9PT0gLy9cclxuICAvLyAtLS0gQWRkaW5nIG5ldyBjYXJkIC0tLSAvL1xyXG4gIGFkZENhcmQoZGF0YSkge1xyXG4gICAgY29uc3Qge25hbWUsIGxpbmt9ID0gZGF0YTtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBSZW1vdmluZyBhIGNhcmQgLS0tIC8vXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvXCIgKyBjYXJkSWQsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIExpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIGxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+IHtcclxuICAgICAgaWYgKHJlcy5vaykge1xyXG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICAvLyAtLS0gVW5saWtlIGEgY2FyZCAtLS0gLy9cclxuICB1bmxpa2VDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9saWtlcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gU2V0dGluZyB1c2VyIHByb2ZpbGUgaW5mbyAtLS0gLy9cclxuICBzZXRVc2VySW5mbyggdXNlckluZm8gKSB7XHJcbiAgICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm87XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGpvYixcclxuICAgICAgICB9KSxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLm9rXHJcbiAgICAgICAgICAgID8gcmVzLmpzb24oKVxyXG4gICAgICAgICAgICA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCArIHJlcy5zdGF0dXMpO1xyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gU2V0dGluZyB1c2VyIHByb2ZpbGUgYXZhdGFyIC0tLSAvL1xyXG4gIHNldFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXJcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gVXBkYXRpbmcvRWRpdGluZyB1c2VyIHByb2ZpbGUgaW5mbyAtLS0gLy9cclxuICB1cGRhdGVVc2VySW5mbyh1c2VySW5mbykge1xyXG4gICAgY29uc3QgeyBuYW1lLCBqb2IgfSA9IHVzZXJJbmZvO1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBqb2IsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJmb3JtQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm1Db25maWciLCJfZm9ybUVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2VDbGFzcyIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwicmVtb3ZlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRzIiwiZm9yRWFjaCIsImlucHV0IiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsIl9jaGVja0lucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NoZWNrSWZGb3JtVmFsaWQiLCJldmVyeSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImlucHV0U2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZVZhbGlkYXRpb24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiQ2FyZCIsImRhdGEiLCJjYXJkVGVtcGxhdGUiLCJ1c2VySWQiLCJvbkNhcmRDbGljayIsInJlbW92ZUhhbmRsZXIiLCJsaWtlSGFuZGxlciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkVGVtcGxhdGUiLCJfdXNlcklkIiwiX29uQ2FyZENsaWNrIiwiX2xpa2VIYW5kbGVyIiwiX3JlbW92ZUhhbmRsZXIiLCJfZ2V0VGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJfc2V0QXR0cmlidXRlcyIsImNhcmRFbGVtZW50IiwiYXR0cmlicyIsInNldEF0dHJpYnV0ZSIsImRlbGV0ZUNhcmQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiX2NhcmRFbGVtZW50IiwiX3JlbmRlckxpa2VzIiwic29tZSIsImxpa2UiLCJsaWtlQ2FyZCIsInVubGlrZUNhcmQiLCJzaG93TGlrZXMiLCJjb3VudCIsIl9saWtlQ2FyZCIsIl9jYXJkSW1hZ2UiLCJfc2hvd0RlbGV0ZUljb24iLCJfb3duZXIiLCJpc0xpa2VkIiwibGlrZUljb24iLCJjb250YWlucyIsImdlbmVyYXRlQ2FyZCIsInNyYyIsIl9pbWFnZSIsImFsdCIsImxlbmd0aCIsIk1vZGFsIiwibW9kYWwiLCJfbW9kYWwiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiX2NsaWNrRXNjSGFuZGxlciIsIl9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyIiwiX2NsaWNrT25PdmVybGF5SGFuZGxlciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiTW9kYWxXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtIiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1JbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsInZhbHVlIiwiaW5wdXRWYWx1ZXMiLCJoYW5kbGVSZW1vdmUiLCJoYW5kbGUiLCJyZXNldCIsIlNlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZWRFbGVtZW50cyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhZGRJdGVtIiwiZWxlbWVudCIsImFwcGVuZCIsInJlbmRlckVsZW1lbnRzIiwiaXRlbSIsInByZXBlbmRJdGVtIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwiam9iIiwiYXZhdGFyIiwiX2pvYiIsIl9hdmF0YXIiLCJnZXRVc2VySW5mbyIsIl91c2VySW5mbyIsInRpdGxlIiwic2V0VXNlckluZm8iLCJ1c2VyQXZhdGFyIiwiYXZhdGFySW1hZ2UiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJlZGl0QnV0dG9uIiwicHJvZmlsZU1vZGFsIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJhdmF0YXJFZGl0QnV0dG9uIiwiYXZhdGFyTW9kYWwiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZE1vZGFsIiwiYWRkQ2FyZEZvcm0iLCJmb3JtcyIsImNhcmRCaWdNb2RhbCIsImVsZW1lbnRzIiwiZm9ybVNlbGVjdG9yIiwiYmlnSW1hZ2UiLCJvcGVudXAiLCJfbW9kYWxFbGVtZW50IiwiZGVsZXRlQ2FyZE1vZGFsIiwibG9hZGluZ01vZGFsIiwiaXNMb2FkaW5nIiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiZ2V0Q2FyZExpc3QiLCJmZXRjaCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzVGV4dCIsImdldEFwcEluZm8iLCJhbGwiLCJhZGRDYXJkIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVDYXJkIiwiY2FyZElkIiwidXNlckluZm8iLCJzdGF0dXMiLCJzZXRVc2VyQXZhdGFyIiwidXBkYXRlVXNlckluZm8iLCJhdXRob3JpemF0aW9uIiwiY2FyZExpc3QiLCJ1c2VyRGF0YSIsInByb2ZpbGUiLCJhZGRpbmdOZXdDYXJkIiwiY2FyZEluc3RhbmNlIiwidXNlciIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImxlbmdodCIsImNhcmRzTGlzdCIsImZpbmFsbHkiLCJhZGRDYXJkRm9ybVZhbGlkYXRpb24iLCJhZGROZXdDYXJkTW9kYWwiLCJwcm9maWxlRm9ybSIsInByb2ZpbGVGb3JtVmFsaWRhdGlvbiIsImF2YXRhckZvcm0iLCJpbWdMaW5rIiwiZWRpdEF2YXRhciIsIm1vZGFsU2VsZWN0b3IiLCJtb2RhbFN1Ym1pdGlvbiIsImF2YXRhclVSTCIsImhhbmRsZUF2YXRhckVkaXQiXSwic291cmNlUm9vdCI6IiJ9