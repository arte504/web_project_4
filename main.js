!function(){"use strict";var e={d:function(t,r){for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b7:function(){return h},ED:function(){return _},rC:function(){return c}});class t{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:r,errorMessageClass:s}=this._formConfig,o=this._formElement.querySelector(` #${e.id}_error `);o.textContent=t,o.classList.add(s),e.classList.add(r)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:r}=this._formConfig,s=this._formElement.querySelector(` #${e.id}_error `);s.textContent="",s.classList.remove(r),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,r=this._formElement.querySelector(t);this._checkIfFormValid()?(r.disabled=!1,r.classList.remove(e)):(r.disabled=!0,r.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor(e,t,r,{onCardClick:s,removeHandler:o,likeHandler:n}){this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._id=e._id,this._cardTemplate=t,this._userId=r,this._onCardClick=s,this._likeHandler=n,this._removeHandler=o}_getTemplate(){return this._cardTemplate.querySelector(".card").cloneNode(!0)}id(){return this._id}deleteCard(){const e=document.getElementById(id);e&&e.parentNode.removeChild(e),this._cardElement=null}_renderLikes(){this._likes.some((e=>e._id===this._userId))&&this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_active")}showLikes(e){this._cardElement.querySelector(".card__like-count").textContent=e}updateLikes(e){this._likes=e,this._renderLikes()}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._id)})),this._cardImage.addEventListener("click",(e=>{this._onCardClick(e)}))}_showDeleteIcon(){this._owner._id!==this._userId&&this._cardElement.querySelector(".card__delete-button").classList.add("card__delete-button_hidden")}generateCard(){return this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=`Image of  ${this._name} `,this._renderLikes(),this.showLikes(this._likes.length),this._showDeleteIcon(),this._cardElement.id=this._id,this._setEventListeners(),this._item}}class s{constructor(e){this._modal=e}open(){this._modal.classList.add(".modal_visible"),this.setEventListeners()}close(){this._modal.classList.remove(".modal_visible"),this.removeEventListeners()}_clickEscHandler=e=>{"Escape"===e.key&&this.close()};_clickOnCloseButtonHandler=()=>{this.close()};_clickOnOverlayHandler=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._modal.querySelector(".modal__close-button").addEventListener("click",this._clickOnCloseButtonHandler),this._modal.addEventListener("click",this._clickOnOverlayHandler),document.addEventListener("keydown",this._clickEscHandler)}removeEventListeners(){this._modal.querySelector(".modal__close-button").removeEventListener("click",this._clickOnCloseButtonHandler),this._modal.removeEventListener("click",this._clickOnOverlayHandler),document.removeEventListener("keydown",this._clickEscHandler)}}class o extends s{constructor({modal:e,handleSubmit:t}){super(e),this._handleSubmit=t,this._form=document.querySelector(".modal__container_type_form"),this._formElement=this._form.querySelectorAll(".modal__input")}_getInputValues(){return this._formInputValues={},inputList.forEach((e=>{this._formInputValues[e.name]=e.value})),inputValues}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this.handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._form.removeEventListener("submit",this.handleSubmit)}handleSubmit=e=>(e.preventDefault(),this._handleSubmit(this._getInputValues));handleRemove(e){this._handleSubmit=e}close(){super.close(),this._form.reset()}}class n{constructor({items:e,renderer:t},r){this._items=e,this._renderer=t,this._container=document.querySelector(r)}addItem(e){this._container.prepend(e)}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}}class i{constructor(e,t,r){this._name=e,this._job=t,this._avatar=r}getUserInfo(){return this._userInfo={title:this._name.textContent,job:this._job.textContent}}setUserInfo(e,t,r){this._userInfo={title:e,job:t,userAvatar:r},r?(h.src=this._userInfo.userAvatar,c.textContent=this._userInfo.title,_.textContent=this._userInfo.job):(c.textContent=this._userInfo.title,_.textContent=this._userInfo.job)}}const a=document.querySelector(".profile__edit-button"),l=document.querySelector(".modal_type_edit"),c=document.querySelector(".profile__title"),d=document.querySelector(".modal__input_type_title"),_=document.querySelector(".profile__subtitle"),u=document.querySelector(".modal__input_type_subtitle"),h=(document.querySelector(".modal__close-button_type_edit"),document.querySelector(".profile__image")),m=document.querySelector(".profile__image-edit"),b=document.querySelector(".modal_type_avatar"),v=(b.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),p=document.querySelector(".modal_type_add-card"),f=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),k=(f.elements.title,f.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector(".modal_type_big-image")),E=(document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),document.querySelector(".modal_type_delete-card")),y={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"},S=new class extends s{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(k);S.setEventListeners();const g=new o({modalSelector:E});function L(e,t){t.querySelector(".modal__submit-button").textContent=e?"Saving...":"Save"}g.setEventListeners();const C=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getCardList(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json().then((e=>e));Promise.reject("Error!"+e.statusText)}))}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getCardList()])}addCard({name:e,link:t}){return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeCard(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}setUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText+e.status)))}setUserAvatar({avatar:e}){return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}updateUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"}});C.getAppInfo().then((([e,t])=>{const s=new n({items:t,renderer:b},".cards__grid");s.renderItems();const m=new o({modalSelector:p,modalSubmition:e=>{L(!0,p),C.addCard(e).then((e=>{console.log(e),b(e),m.close(),L(!1,p)})).catch((e=>console.log(e)))}});function b(t){const o=new r({data:t,handleCardClick:({name:e,link:t})=>{S.open(t,e)},handleDeleteClick:e=>{g.open(e),g.setSubmitHandler((()=>{C.removeCard(e).then((()=>{o.deleteCardModal(),g.close()})).catch((e=>console.log(e)))}))},likeHandler:e=>{n.querySelector(".card__like-button").classList.contains("card__like-button_active")?C.deleteLike(e).then((e=>{n.querySelector(".card__like-button").classList.remove("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))):(o._cardElement.classList.toggle("card__like-button_active"),C.addLike(e).then((e=>{n.querySelector(".card__like-button").classList.add("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))))}},e._id,".card__template"),n=o.generateCard();s.addItem(n),L(!0,p)}v.addEventListener("click",(()=>{m.open(),L(!1,p)})),m.setEventListeners();const f=new i(c,_,h);C.getUserInfo().then((e=>{f.setUserInfo(e.name,e.job,e.avatar)}));const k=new o({modalSelector:l,modalSubmition:e=>{L(!0,l),C.setUserInfos({name:e.name,job:e.job}).then((e=>{L(!1,l),f.setUserInfo(e.name,e.job),k.close(),console.log(e)})).catch((e=>console.log(e)))}});k.setEventListeners(),a.addEventListener("click",(()=>{k.open();const e=f.getUserInfo();d.value=e.name,u.value=e.job}))})).catch((e=>console.log(e)));const I=new o({modalSelector:b,modalSubmition:e=>{!function(e){L(!0,b),C.setUserAvatar({avatar:e.avatarURL}).then((e=>{h.src=e.avatar,L(!1,b),I.close()})).catch((e=>console.log(e)))}(e)}});m.addEventListener("click",(()=>{I.open()})),I.setEventListeners(),new t(y,l).enableValidation(),new t(y,b).enableValidation(),new t(y,p).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBTVAsRUFBS08sS0FBTWdGLElBQUl2RixFQUFLdUYsTUFDM0N1QyxNQUFLQyxJQUNKVixHQUFhLEVBQU9qQixHQUNwQmlFLEVBQVl2RSxZQUFZaUMsRUFBSXhILEtBQU13SCxFQUFJeEMsS0FDdEMrRSxFQUFZbkgsUUFDWnVHLFFBQVFDLElBQUk1QixNQUViNkIsT0FBTUMsR0FBT0gsUUFBUUMsSUFBSUUsUUFJOUJTLEVBQVlwSCxvQkFFWmlELEVBQVd4RyxpQkFBaUIsU0FBUyxLQUNuQzJLLEVBQVlySCxPQUNaLE1BQU11SCxFQUFPSCxFQUFZMUUsY0FDekJVLEVBQVVsQyxNQUFRcUcsRUFBS2pLLEtBQ3ZCK0YsRUFBU25DLE1BQVFxRyxFQUFLakYsVUFHekJxRSxPQUFNQyxHQUFPSCxRQUFRQyxJQUFJRSxLQWlCMUIsTUFBTVksRUFBYSxJQUFJOUcsRUFBYyxDQUNuQ3lELGNBQWVaLEVBQ2ZpRCxlQUFpQnpKLEtBZm5CLFNBQTBCQSxHQUN4QnFILEdBQWEsRUFBTWIsR0FDbkJlLEVBQUkwQixjQUFjLENBQ2hCekQsT0FBUXhGLEVBQUswSyxZQUVkNUMsTUFBS0MsSUFDSi9CLEVBQVl0RCxJQUFNcUYsRUFBSXZDLE9BQ3RCNkIsR0FBYSxFQUFPYixHQUNwQmlFLEVBQVd0SCxXQUVaeUcsT0FBTUMsR0FBT0gsUUFBUUMsSUFBSUUsS0FNeEJjLENBQWlCM0ssTUFJckJ1RyxFQUFpQjVHLGlCQUFpQixTQUFTLEtBQ3pDOEssRUFBV3hILFVBR2J3SCxFQUFXdkgsb0JBSW1CLElBQUkvRixFQUFjRSxFQUFZK0ksR0FDdEN4RyxtQkFFTyxJQUFJekMsRUFBY0UsRUFBWW1KLEdBQ3RDNUcsbUJBRVMsSUFBSXpDLEVBQWNFLEVBQVlxSixHQUN0QzlHLG1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9DYXJkLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL01vZGFsLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvcGFnZXMvSW5kZXguanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvQXBpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBkZWZpbml0aW9uKSB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iaiwgcHJvcCkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7IH0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihmb3JtQ29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fZm9ybUNvbmZpZyA9IGZvcm1Db25maWc7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JNZXNzYWdlQ2xhc3MgfSA9IHRoaXMuX2Zvcm1Db25maWc7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAgIyR7aW5wdXRFbGVtZW50LmlkfV9lcnJvciBgKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKGVycm9yTWVzc2FnZUNsYXNzKTtcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKGlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuICBcclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0RXJyb3JDbGFzcywgZXJyb3JNZXNzYWdlQ2xhc3MgfSA9IHRoaXMuX2Zvcm1Db25maWc7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAgIyR7aW5wdXRFbGVtZW50LmlkfV9lcnJvciBgKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShlcnJvck1lc3NhZ2VDbGFzcyk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fdG9nZ2xlU3VibWl0QnV0dG9uKCk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dCA9IChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJZkZvcm1WYWxpZCA9ICgpID0+IHRoaXMuaW5wdXRzLmV2ZXJ5KChpbnB1dCkgPT4gaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG5cclxuICBfdG9nZ2xlU3VibWl0QnV0dG9uKCkge1xyXG4gICAgY29uc3QgeyBpbmFjdGl2ZUJ1dHRvbkNsYXNzLCBzdWJtaXRCdXR0b25TZWxlY3RvciB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuXHJcbiAgICBpZiAodGhpcy5fY2hlY2tJZkZvcm1WYWxpZCgpKSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIGNvbnN0IHsgaW5wdXRTZWxlY3RvciB9ID0gdGhpcy5fZm9ybUNvbmZpZztcclxuICAgIHRoaXMuaW5wdXRzID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGlucHV0U2VsZWN0b3IpKTtcclxuXHJcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXQoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1FbGVtZW50O1xyXG4gIH07XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgZGF0YSwgY2FyZFRlbXBsYXRlLCB1c2VySWQsIFxyXG4gICAgeyBvbkNhcmRDbGljaywgcmVtb3ZlSGFuZGxlciwgbGlrZUhhbmRsZXIgfVxyXG4gICkgXHJcbiAge1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5fY2FyZFRlbXBsYXRlID0gY2FyZFRlbXBsYXRlO1xyXG4gICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG5cclxuICAgIHRoaXMuX29uQ2FyZENsaWNrID0gb25DYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl9saWtlSGFuZGxlciA9IGxpa2VIYW5kbGVyO1xyXG4gICAgdGhpcy5fcmVtb3ZlSGFuZGxlciA9IHJlbW92ZUhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IHRoaXMuX2NhcmRUZW1wbGF0ZVxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgaWQoKXtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcbiAgLy8gLS0tIENhcmQgZGVsZXRpbmcgbWV0aG9kIC0tLSAvL1xyXG4gIGRlbGV0ZUNhcmQoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuICAgIGlmKGNhcmRFbGVtZW50KXtcclxuICAgICAgY2FyZEVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjYXJkRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBfcmVuZGVyTGlrZXMgKCl7XHJcbiAgICAvL2NvbnNvbGUubG9nKHRoaXMuX2xpa2VzKTtcclxuICAgIGlmICh0aGlzLl9saWtlcy5zb21lKChsaWtlKSA9PiBsaWtlLl9pZCA9PT0gdGhpcy5fdXNlcklkKSkge1xyXG4gICAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIikuY2xhc3NMaXN0LmFkZChcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgIH1cclxuICB9XHJcbiAgc2hvd0xpa2VzKGNvdW50KXtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1jb3VudFwiKS50ZXh0Q29udGVudCA9IGNvdW50O1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIFRvZ2dsZSBsaWtlIGJ1dHRvbiBtZXRob2QgLS0tIC8vXHJcbiAgdXBkYXRlTGlrZXMobmV3TGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZXM7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gIH1cclxuXHJcbiAgLy8gLS0tIFNldCBldmVudHMgbGlzdGVuZXJzIGZvciB0aGUgY2FyZHMgdGhhdCB3aWxsIGJlIGNyZWF0ZWQhIC0tLSAvL1xyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5fbGlrZUNhcmQoZXZlbnQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpXHJcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX3JlbW92ZUhhbmRsZXIodGhpcy5faWQpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9vbkNhcmRDbGljayhldmVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9zaG93RGVsZXRlSWNvbigpIHtcclxuICAgIGlmKHRoaXMuX293bmVyLl9pZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19kZWxldGUtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fZGVsZXRlLWJ1dHRvbl9oaWRkZW4nKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIC0tLSBDcmVhdGluZyB0aGUgY2FyZCBhbmQgY2FyZCBlbGVtZW50cyAtLS0gLy9cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBcIkltYWdlIG9mIFwiICsgYCAke3RoaXMuX25hbWV9IGA7XHJcbiAgICB0aGlzLl9yZW5kZXJMaWtlcygpO1xyXG4gICAgdGhpcy5zaG93TGlrZXModGhpcy5fbGlrZXMubGVuZ3RoKTtcclxuICAgIHRoaXMuX3Nob3dEZWxldGVJY29uKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5pZCA9IHRoaXMuX2lkO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5faXRlbTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKG1vZGFsKSB7XHJcbiAgICB0aGlzLl9tb2RhbCA9IG1vZGFsO1xyXG4gIH1cclxuICAvLyAtLS0gT3BlbiBtb2RhbCBtZXRob2QgLS0tIC8vIFxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QuYWRkKFwiLm1vZGFsX3Zpc2libGVcIik7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBtZXRob2QgLS0tIC8vXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9tb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwiLm1vZGFsX3Zpc2libGVcIik7XHJcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKClcclxuICB9XHJcbiAgLy8gLS0tIENsb3NlIG1vZGFsIG9uIEVTQyBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrRXNjSGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBjbG9zZSgnWCcpIGJ1dHRvbiBwcmVzcyBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmNsb3NlKCk7XHJcbiAgfTtcclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgb24gb3ZlcmxheSBtb3VzZSBjbGljayBtZXRob2QgLS0tIC8vXHJcbiAgX2NsaWNrT25PdmVybGF5SGFuZGxlciA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gZXZlbnQuY3VycmVudFRhcmdldCkge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b24nKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyKTtcclxuICAgIHRoaXMuX21vZGFsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tPbk92ZXJsYXlIYW5kbGVyKVxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2NsaWNrRXNjSGFuZGxlcik7XHJcbiAgfVxyXG5cclxuICByZW1vdmVFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX21vZGFsXHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbicpXHJcbiAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIpO1xyXG4gICAgdGhpcy5fbW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja09uT3ZlcmxheUhhbmRsZXIpXHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5fY2xpY2tFc2NIYW5kbGVyKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgTW9kYWwgZnJvbSBcIi4vTW9kYWwuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsV2l0aEZvcm0gZXh0ZW5kcyBNb2RhbCB7XHJcbiAgY29uc3RydWN0b3Ioe21vZGFsLCBoYW5kbGVTdWJtaXR9KSB7XHJcbiAgICBzdXBlcihtb2RhbCk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jb250YWluZXJfdHlwZV9mb3JtJyk7XHJcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLm1vZGFsX19pbnB1dCcpO1xyXG4gIH1cclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5fZm9ybUlucHV0VmFsdWVzID0ge307XHJcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybUlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuaGFuZGxlU3VibWl0KTtcclxuICB9XHJcblxyXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlU3VibWl0ID0gKGV2ZW50KSA9PntcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcyk7XHJcblxyXG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlUmVtb3ZlKGhhbmRsZSkge1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIGNsZWFyICgpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW1zKCkge1xyXG4gICAgdGhpcy5jbGVhcigpO1xyXG4gICAgXHJcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChjYXJkKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGNhcmQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7cHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIGF2YXRhckltYWdlfSBmcm9tICcuLi8uLi9wYWdlcy9JbmRleC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IobmFtZSwgam9iLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fam9iID0gam9iO1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKHRoaXMuX3VzZXJJbmZvID0ge1xyXG4gICAgICB0aXRsZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgam9iOiB0aGlzLl9qb2IudGV4dENvbnRlbnRcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8odGl0bGUsIGpvYiwgdXNlckF2YXRhcikge1xyXG4gICAgdGhpcy5fdXNlckluZm8gPSB7IHRpdGxlLCBqb2IsIHVzZXJBdmF0YXIgfTtcclxuICAgIGlmICh1c2VyQXZhdGFyKSB7XHJcbiAgICAgIGF2YXRhckltYWdlLnNyYyA9IHRoaXMuX3VzZXJJbmZvLnVzZXJBdmF0YXI7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8udGl0bGU7XHJcbiAgICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby5qb2I7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLnRpdGxlO1xyXG4gICAgICBwcm9maWxlSm9iLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8uam9iO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvLyAtLS0gJ0VkaXQgcHJvZmlsZScgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fdGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV90aXRsZScpO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZUpvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfc3VidGl0bGUnKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfZWRpdCcpO1xyXG4vLyAtLS0gJ0F2YXRhclwiIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGF2YXRhckltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJFZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2ltYWdlLWVkaXQnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJNb2RhbElucHV0ID0gYXZhdGFyTW9kYWwucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX2F2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2F2YXRhcicpXHJcbi8vIC0tLSAnQWRkLWNhcmQnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYWRkLWNhcmQnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX25hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbnB1dExpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbGluaycpO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9hZGQtY2FyZCcpO1xyXG4vLyAtLS0gJ0FkZC1DYXJkJyBmb3JtIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGFkZENhcmRGb3JtID0gZG9jdW1lbnQuZm9ybXMuYWRkO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1UaXRlbCA9IGFkZENhcmRGb3JtLmVsZW1lbnRzLnRpdGxlO1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm1MaW5rID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMubGluaztcclxuLy8gLS0tIEdlbmVyYWwgY29uc3QgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBzdWJtaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3N1Ym1pdC1idXR0b24nKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzX19ncmlkJyk7XHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgY2FyZEJpZ01vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX3R5cGVfYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fYmlnLWltYWdlJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbWFnZS1jYXB0aW9uJyk7XHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWxDbG9zZUljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2JpZy1pbWFnZScpO1xyXG4vLyAtLS0gJ0RlbGV0ZSBjYXJkJyBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBkZWxldGVDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF90eXBlX2RlbGV0ZS1jYXJkXCIpO1xyXG4vLyAtLS0gRm9ybSBjb25maWcgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgZm9ybUNvbmZpZyA9IHtcclxuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19jb250YWluZXJcIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zdWJtaXQtYnV0dG9uX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9lcnJvclwiLFxyXG4gIGVycm9yTWVzc2FnZUNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCJcclxufTtcclxuIiwiaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XHJcbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgTW9kYWxXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEZvcm0uanNcIjtcclxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0FwaS5qc1wiXHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQge1xyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIG5hbWVJbnB1dCxcclxuICBwcm9maWxlSm9iLFxyXG4gIGpvYklucHV0LFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgcHJvZmlsZU1vZGFsLFxyXG4gIGFkZENhcmRCdXR0b24sXHJcbiAgYWRkQ2FyZE1vZGFsLFxyXG4gIGF2YXRhck1vZGFsLFxyXG4gIGF2YXRhckltYWdlLFxyXG4gIGF2YXRhckVkaXRCdXR0b24sXHJcbiAgY2FyZEJpZ01vZGFsLFxyXG4gIGRlbGV0ZUNhcmQsXHJcbiAgZm9ybUNvbmZpZ1xyXG59IGZyb20gXCIuLi9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy8gPT09PT0gTW9kYWxzID09PT09IC8vXHJcbi8vIC0tLSBCaWcgaW1hZ2UgbW9kYWwgaW5zdGFuY2UgLS0tIC8vXHJcbmNvbnN0IGJpZ0ltYWdlID0gbmV3IE1vZGFsV2l0aEltYWdlKGNhcmRCaWdNb2RhbCk7XHJcbmJpZ0ltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIC0tLSBEZWxldGUgY2FyZCBtb2RhbCBpbnN0YW5jZSBhbmQgZXZlbnRzIC0tLSAvL1xyXG5jb25zdCBkZWxldGVDYXJkTW9kYWwgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XHJcbiAgbW9kYWxTZWxlY3RvcjogZGVsZXRlQ2FyZFxyXG59KTtcclxuZGVsZXRlQ2FyZE1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbi8vIC0tLSBVWCBmb3IgbW9kYWxzIC0tLSAvL1xyXG5mdW5jdGlvbiBsb2FkaW5nTW9kYWwoaXNMb2FkaW5nLCBtb2RhbCkge1xyXG4gIGlmIChpc0xvYWRpbmcpIHsgbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2aW5nLi4uXCI7IH0gXHJcbiAgZWxzZSB7IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3N1Ym1pdC1idXR0b25cIikudGV4dENvbnRlbnQgPSBcIlNhdmVcIjsgfVxyXG59XHJcblxyXG4vLyA9PT09PSBBUEkgPT09PT0gLy9cclxuLy8gLS0tIFNldHRpbmcgdGhlIGRlZmF1bHQgZmV0Y2hpbmcgdXJsIGFuZCB0b2tlbiAtLS0gLy9cclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC5ub21vcmVwYXJ0aWVzLmNvL3YxL2dyb3VwLTEyXCIsXHJcbiAgaGVhZGVyczogXHJcbiAge1xyXG4gICAgYXV0aG9yaXphdGlvbjogXCI3MDlhMGQ5ZC1kYjA2LTQ4OTAtYTU5NC1iMDdlNzMwOWEzNTNcIixcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgXHJcbiAgfVxyXG59KTtcclxuLy8gLS0tIEdldEFwcEluZm8gbWV0aG9kIC0tLSAvL1xyXG5hcGkuZ2V0QXBwSW5mbygpLnRoZW4oKFt1c2VyRGF0YSwgY2FyZExpc3REYXRhXSkgPT4ge1xyXG4gIC8vIC0tLSBDYXJkcyBzZWN0aW9uIGNyZWF0aW9uIC0tLSAvL1xyXG4gIGNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKHtcclxuICAgIGl0ZW1zOiBjYXJkTGlzdERhdGEsXHJcbiAgICByZW5kZXJlcjogYWRkaW5nTmV3Q2FyZFxyXG4gIH0sICcuY2FyZHNfX2dyaWQnKVxyXG4gIC8vIC0tLSBSZW5kZXIgY2FyZHMgLS0tIC8vXHJcbiAgY2FyZHNMaXN0LnJlbmRlckl0ZW1zKCk7XHJcbiAgLy8gLS0tICdBZGQgbmV3IGNhcmQnIG1vZGFsIGluc3RhbmNlIC0tLSAvL1xyXG4gIGNvbnN0IGFkZE5ld0NhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICAgIG1vZGFsU2VsZWN0b3I6IGFkZENhcmRNb2RhbCxcclxuICAgIG1vZGFsU3VibWl0aW9uOiAoZGF0YSkgPT4ge1xyXG4gICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgYWRkQ2FyZE1vZGFsKTtcclxuICAgICAgYXBpXHJcbiAgICAgICAgLmFkZENhcmQoZGF0YSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgYWRkaW5nTmV3Q2FyZChyZXMpO1xyXG4gICAgICAgICAgYWRkTmV3Q2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGFkZENhcmRNb2RhbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICB9LFxyXG4gIH0pO1xyXG4gIC8vIC0tLSBBZGQgY2FyZCBidXR0b24gZnVuY3Rpb25hbCBhZGRpbmcgLS0tIC8vXHJcbiAgYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgYWRkTmV3Q2FyZE1vZGFsLm9wZW4oKTtcclxuICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgYWRkQ2FyZE1vZGFsKTtcclxuICB9KTtcclxuICBhZGROZXdDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAvLyAtLS0gTmV3IGNhcmQgYWRkaW5nIC0tLSAvL1xyXG4gIGZ1bmN0aW9uIGFkZGluZ05ld0NhcmQoZGF0YSl7XHJcbiAgICBjb25zdCBjYXJkSW5zdGFuY2UgPSBuZXcgQ2FyZCh7ZGF0YSxcclxuICAgICAgaGFuZGxlQ2FyZENsaWNrOiAoe25hbWUsIGxpbmt9KSA9PiB7XHJcbiAgICAgICAgYmlnSW1hZ2Uub3BlbihsaW5rLCBuYW1lKX0sXHJcbiAgICAgIGhhbmRsZURlbGV0ZUNsaWNrOiAoY2FyZElkKSA9PiB7XHJcbiAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLm9wZW4oY2FyZElkKTtcclxuICAgICAgICBkZWxldGVDYXJkTW9kYWwuc2V0U3VibWl0SGFuZGxlcigoKSA9PiB7XHJcbiAgICAgICAgICBhcGkucmVtb3ZlQ2FyZChjYXJkSWQpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICBjYXJkSW5zdGFuY2UuZGVsZXRlQ2FyZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgZGVsZXRlQ2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcbiAgICAgIGxpa2VIYW5kbGVyOiAoY2FyZElkKSA9PntcclxuICAgICAgICBpZihjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKS5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkSWQpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LnJlbW92ZSgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMocmVzLmxpa2VzLmxlbmd0aClcclxuICAgICAgICAgICAgY2FyZEluc3RhbmNlLl9saWtlcyA9IHJlcy5saWtlczsgfSlcclxuICAgICAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICBjYXJkSW5zdGFuY2UuX2NhcmRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICAgICAgICBhcGkuYWRkTGlrZShjYXJkSWQpLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UtYnV0dG9uJykuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5zaG93TGlrZXMocmVzLmxpa2VzLmxlbmd0aClcclxuICAgICAgICAgICAgY2FyZEluc3RhbmNlLl9saWtlcyA9IHJlcy5saWtlczt9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVzZXJEYXRhLl9pZCwnLmNhcmRfX3RlbXBsYXRlJylcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY2FyZEluc3RhbmNlLmdlbmVyYXRlQ2FyZCgpO1xyXG4gICAgY2FyZHNMaXN0LmFkZEl0ZW0oY2FyZEVsZW1lbnQpXHJcbiAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgYWRkQ2FyZE1vZGFsKTtcclxuICB9XHJcbiAgLy8gLS0tICdQcm9maWxlJyBpbmZvIGVkaXRpbmcgLS0tIC8vXHJcbiAgY29uc3QgcHJvZmlsZUluZm8gPSBuZXcgVXNlckluZm8oIHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBhdmF0YXJJbWFnZSk7XHJcbiAgLy8gLS0tIEZldGNoaW5nIGFuZCBzZXR0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIGFwaS5nZXRVc2VySW5mbygpLnRoZW4ocmVzID0+IHtcclxuICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKCByZXMubmFtZSwgcmVzLmpvYiwgcmVzLmF2YXRhcilcclxuICB9KVxyXG4gIGNvbnN0IHByb2ZpbGVGb3JtID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgbW9kYWxTZWxlY3RvcjogcHJvZmlsZU1vZGFsLCBcclxuICAgIG1vZGFsU3VibWl0aW9uOiAoZGF0YSkgPT4ge1xyXG4gICAgICBsb2FkaW5nTW9kYWwodHJ1ZSwgcHJvZmlsZU1vZGFsKTtcclxuICAgICAgYXBpLnNldFVzZXJJbmZvcyh7bmFtZTogZGF0YS5uYW1lLCBqb2I6ZGF0YS5qb2J9KVxyXG4gICAgICAudGhlbihyZXMgPT4ge1xyXG4gICAgICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgcHJvZmlsZU1vZGFsKVxyXG4gICAgICAgIHByb2ZpbGVJbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuam9iKVxyXG4gICAgICAgIHByb2ZpbGVGb3JtLmNsb3NlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2cocmVzKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICB9XHJcbiAgfSlcclxuICAvLyAtLS0gJ1Byb2ZpbGUnIGZvcm0gaGFuZGxlciAtLS0gLy9cclxuICBwcm9maWxlRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIC8vIC0tLSBPcGVuICdQcm9maWxlJyBmb3JtIHdpdGggY3VycmVudCB2YWx1ZXMgYXMgaW5wdXRzIC0tLSAvL1xyXG4gIGVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBwcm9maWxlRm9ybS5vcGVuKCk7XHJcbiAgICBjb25zdCB1c2VyID0gcHJvZmlsZUluZm8uZ2V0VXNlckluZm8oKTtcclxuICAgIG5hbWVJbnB1dC52YWx1ZSA9IHVzZXIubmFtZTtcclxuICAgIGpvYklucHV0LnZhbHVlID0gdXNlci5qb2I7XHJcbiAgfSlcclxufSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbi8vID09PT09IEF2YXRhciA9PT09PSAvL1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBmdW5jdGlvbmFsIC0tLSAvL1xyXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJFZGl0KGRhdGEpIHtcclxuICBsb2FkaW5nTW9kYWwodHJ1ZSwgYXZhdGFyTW9kYWwpO1xyXG4gIGFwaS5zZXRVc2VyQXZhdGFyKHtcclxuICAgIGF2YXRhcjogZGF0YS5hdmF0YXJVUkxcclxuICB9KVxyXG4gIC50aGVuKHJlcyA9PiB7XHJcbiAgICBhdmF0YXJJbWFnZS5zcmMgPSByZXMuYXZhdGFyO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBhdmF0YXJNb2RhbCk7XHJcbiAgICBlZGl0QXZhdGFyLmNsb3NlKCk7XHJcbiAgfSlcclxuICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG59XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGNyZWF0aW9uIC0tLSAvL1xyXG5jb25zdCBlZGl0QXZhdGFyID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gIG1vZGFsU2VsZWN0b3I6IGF2YXRhck1vZGFsLFxyXG4gIG1vZGFsU3VibWl0aW9uOiAoZGF0YSkgPT4ge1xyXG4gICAgaGFuZGxlQXZhdGFyRWRpdChkYXRhKVxyXG4gIH1cclxufSk7XHJcbi8vIC0tLSBPcGVuIGF2YXRhciBlZGl0IG1vZGFsIG9uIGNsaWNrIC0tLSAvL1xyXG5hdmF0YXJFZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgZWRpdEF2YXRhci5vcGVuKCk7XHJcbn0pO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSBoYW5kbGVyIC0tLSAvL1xyXG5lZGl0QXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLyA9PT09PSBWYWxpZGF0aW9uID09PT09IC8vXHJcbi8vIC0tLSAnRWRpdCBwcm9maWxlJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBwcm9maWxlTW9kYWwpO1xyXG5wcm9maWxlRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyAtLS0gJ0F2YXRhcicgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhdmF0YXJNb2RhbCk7XHJcbmF2YXRhckZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuLy8gLS0tICdBZGQgY2FyZCcgZm9ybSB2YWxpZGF0aW9uIGFkZGluZyAtLS0gLy9cclxuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0aW9uID0gbmV3IEZvcm1WYWxpZGF0b3IoZm9ybUNvbmZpZywgYWRkQ2FyZE1vZGFsKTtcclxuYWRkQ2FyZEZvcm1WYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmV4cG9ydCB7IHByb2ZpbGVOYW1lLCBwcm9maWxlSm9iLCBiaWdJbWFnZSwgYXZhdGFySW1hZ2UgfSIsImltcG9ydCBNb2RhbCBmcm9tIFwiLi9Nb2RhbC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWxXaXRoSW1hZ2UgZXh0ZW5kcyBNb2RhbCB7XHJcbiAgLy8gLS0tIE9wZW4gYmlnIGltYWdlIG1vZGFsIG1ldGhvZCAtLS0gLy9cclxuICBvcGVudXAgPSAoZXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGJpZ0ltYWdlID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2JpZy1pbWFnZVwiKS5zcmMgPSBiaWdJbWFnZS5zcmM7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLmFsdCA9IGJpZ0ltYWdlLmFsdDtcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1jYXB0aW9uXCIpLnRleHRDb250ZW50ID0gYmlnSW1hZ2UuYWx0O1xyXG5cclxuICAgIHRoaXMub3BlbigpO1xyXG4gIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xyXG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XHJcbiAgfVxyXG5cclxuICAvLyA9PT0gR2V0dGluZyBpbmZvIGZyb20gc2VydmVyID09PSAvL1xyXG4gIC8vIC0tLSBHZXQgY2FyZCBsaXN0IGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRDYXJkTGlzdCgpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gR2V0IHVzZXIgaW5mbyBmcm9tIHRoZSBzZXJ2ZXIgLS0tIC8vXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT5cclxuICAgICAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICAgICAgKVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIENoZWNrIGlmIGFsbCBpbmZvIGZldGNoZWQgLS0tIC8vXHJcbiAgZ2V0QXBwSW5mbygpIHtcclxuICAgIHJldHVybiBQcm9taXNlLmFsbChbdGhpcy5nZXRVc2VySW5mbygpLCB0aGlzLmdldENhcmRMaXN0KCldKTtcclxuICB9XHJcblxyXG4gIC8vID09PSBBZGRpbmcvUmVtb3ZpbmcvRWRpdGluZyA9PT0gLy9cclxuICAvLyAtLS0gQWRkaW5nIG5ldyBjYXJkIC0tLSAvL1xyXG4gIGFkZENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBsaW5rLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBSZW1vdmluZyBhIGNhcmQgLS0tIC8vXHJcbiAgcmVtb3ZlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvXCIgKyBjYXJkSWQsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIExpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIGFkZExpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVbmxpa2UgYSBjYXJkIC0tLSAvL1xyXG4gIHJlbW92ZUxpa2UoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElkLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHNldFVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgam9iLFxyXG4gICAgICAgIH0pLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIHJldHVybiByZXMub2tcclxuICAgICAgICAgICAgPyByZXMuanNvbigpXHJcbiAgICAgICAgICAgIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0ICsgcmVzLnN0YXR1cyk7XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBTZXR0aW5nIHVzZXIgcHJvZmlsZSBhdmF0YXIgLS0tIC8vXHJcbiAgc2V0VXNlckF2YXRhcih7IGF2YXRhciB9KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lL2F2YXRhclwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT5cclxuICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBVcGRhdGluZy9FZGl0aW5nIHVzZXIgcHJvZmlsZSBpbmZvIC0tLSAvL1xyXG4gIHVwZGF0ZVVzZXJJbmZvKHsgbmFtZSwgam9iIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgam9iLFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZXR1cm4gcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRm9ybVZhbGlkYXRvciIsImNvbnN0cnVjdG9yIiwiZm9ybUNvbmZpZyIsImZvcm1FbGVtZW50IiwidGhpcyIsIl9mb3JtQ29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JNZXNzYWdlQ2xhc3MiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsInJlbW92ZSIsInJlc2V0VmFsaWRhdGlvbiIsImlucHV0cyIsImZvckVhY2giLCJpbnB1dCIsIl90b2dnbGVTdWJtaXRCdXR0b24iLCJfY2hlY2tJbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9jaGVja0lmRm9ybVZhbGlkIiwiZXZlcnkiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJidXR0b25FbGVtZW50IiwiZGlzYWJsZWQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJpbnB1dFNlbGVjdG9yIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJlbmFibGVWYWxpZGF0aW9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIkNhcmQiLCJkYXRhIiwiY2FyZFRlbXBsYXRlIiwidXNlcklkIiwib25DYXJkQ2xpY2siLCJyZW1vdmVIYW5kbGVyIiwibGlrZUhhbmRsZXIiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfY2FyZFRlbXBsYXRlIiwiX3VzZXJJZCIsIl9vbkNhcmRDbGljayIsIl9saWtlSGFuZGxlciIsIl9yZW1vdmVIYW5kbGVyIiwiX2dldFRlbXBsYXRlIiwiY2xvbmVOb2RlIiwiZGVsZXRlQ2FyZCIsImNhcmRFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsIl9jYXJkRWxlbWVudCIsIl9yZW5kZXJMaWtlcyIsInNvbWUiLCJsaWtlIiwic2hvd0xpa2VzIiwiY291bnQiLCJ1cGRhdGVMaWtlcyIsIm5ld0xpa2VzIiwiX2xpa2VDYXJkIiwiX2NhcmRJbWFnZSIsIl9zaG93RGVsZXRlSWNvbiIsIl9vd25lciIsImdlbmVyYXRlQ2FyZCIsIl9jYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJsZW5ndGgiLCJfaXRlbSIsIk1vZGFsIiwibW9kYWwiLCJfbW9kYWwiLCJvcGVuIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiX2NsaWNrRXNjSGFuZGxlciIsIl9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyIiwiX2NsaWNrT25PdmVybGF5SGFuZGxlciIsInRhcmdldCIsImN1cnJlbnRUYXJnZXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiTW9kYWxXaXRoRm9ybSIsImhhbmRsZVN1Ym1pdCIsInN1cGVyIiwiX2hhbmRsZVN1Ym1pdCIsIl9mb3JtIiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1JbnB1dFZhbHVlcyIsImlucHV0TGlzdCIsInZhbHVlIiwiaW5wdXRWYWx1ZXMiLCJoYW5kbGVSZW1vdmUiLCJoYW5kbGUiLCJyZXNldCIsIlNlY3Rpb24iLCJpdGVtcyIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiY2xlYXIiLCJpbm5lckhUTUwiLCJyZW5kZXJJdGVtcyIsImNhcmQiLCJVc2VySW5mbyIsImpvYiIsImF2YXRhciIsIl9qb2IiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJfdXNlckluZm8iLCJ0aXRsZSIsInNldFVzZXJJbmZvIiwidXNlckF2YXRhciIsImF2YXRhckltYWdlIiwicHJvZmlsZU5hbWUiLCJwcm9maWxlSm9iIiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVNb2RhbCIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiYXZhdGFyRWRpdEJ1dHRvbiIsImF2YXRhck1vZGFsIiwiYWRkQ2FyZEJ1dHRvbiIsImFkZENhcmRNb2RhbCIsImFkZENhcmRGb3JtIiwiZm9ybXMiLCJjYXJkQmlnTW9kYWwiLCJlbGVtZW50cyIsImZvcm1TZWxlY3RvciIsImJpZ0ltYWdlIiwib3BlbnVwIiwiX21vZGFsRWxlbWVudCIsImRlbGV0ZUNhcmRNb2RhbCIsIm1vZGFsU2VsZWN0b3IiLCJsb2FkaW5nTW9kYWwiLCJpc0xvYWRpbmciLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRDYXJkTGlzdCIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZ2V0QXBwSW5mbyIsImFsbCIsImFkZENhcmQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZUNhcmQiLCJjYXJkSWQiLCJhZGRMaWtlIiwicmVtb3ZlTGlrZSIsInN0YXR1cyIsInNldFVzZXJBdmF0YXIiLCJ1cGRhdGVVc2VySW5mbyIsImF1dGhvcml6YXRpb24iLCJ1c2VyRGF0YSIsImNhcmRMaXN0RGF0YSIsImNhcmRzTGlzdCIsImFkZGluZ05ld0NhcmQiLCJhZGROZXdDYXJkTW9kYWwiLCJtb2RhbFN1Ym1pdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVyciIsImNhcmRJbnN0YW5jZSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwic2V0U3VibWl0SGFuZGxlciIsImNvbnRhaW5zIiwiZGVsZXRlTGlrZSIsInRvZ2dsZSIsInByb2ZpbGVJbmZvIiwicHJvZmlsZUZvcm0iLCJzZXRVc2VySW5mb3MiLCJ1c2VyIiwiZWRpdEF2YXRhciIsImF2YXRhclVSTCIsImhhbmRsZUF2YXRhckVkaXQiXSwic291cmNlUm9vdCI6IiJ9