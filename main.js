!function(){"use strict";var e={d:function(t,r){for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}};e.d({},{b7:function(){return h},ED:function(){return _},rC:function(){return c}});class t{constructor(e,t){this._formConfig=e,this._formElement=t}_showInputError=(e,t)=>{const{inputErrorClass:r,errorMessageClass:s}=this._formConfig,o=this._formElement.querySelector(` #${e.id}_error `);o.textContent=t,o.classList.add(s),e.classList.add(r)};_hideInputError=e=>{const{inputErrorClass:t,errorMessageClass:r}=this._formConfig,s=this._formElement.querySelector(` #${e.id}_error `);s.textContent="",s.classList.remove(r),e.classList.remove(t)};resetValidation(){this.inputs.forEach((e=>{this._hideInputError(e)})),this._toggleSubmitButton()}_checkInput=e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)};_checkIfFormValid=()=>this.inputs.every((e=>e.validity.valid));_toggleSubmitButton(){const{inactiveButtonClass:e,submitButtonSelector:t}=this._formConfig,r=this._formElement.querySelector(t);this._checkIfFormValid()?(r.disabled=!1,r.classList.remove(e)):(r.disabled=!0,r.classList.add(e))}_setEventListeners=()=>{const{inputSelector:e}=this._formConfig;return this.inputs=Array.from(this._formElement.querySelectorAll(e)),this.inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInput(e),this._toggleSubmitButton()}))})),this._formElement};enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class r{constructor(e,t,r,{onCardClick:s,removeHandler:o,likeHandler:n}){this._name=e.name,this._link=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._id=e._id,this._cardTemplate=t,this._userId=r,this._onCardClick=s,this._likeHandler=n,this._removeHandler=o}_getTemplate(){return this._cardTemplate.querySelector(".card").cloneNode(!0)}id(){return this._id}deleteCard(){const e=document.getElementById(id);e&&e.parentNode.removeChild(e),this._cardElement=null}_renderLikes(){this._likes.some((e=>e._id===this._userId))&&this._cardElement.querySelector(".card__like-button").classList.add("card__like-button_active")}showLikes(e){this._cardElement.querySelector(".card__like-count").textContent=e}updateLikes(e){this._likes=e,this._renderLikes()}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(e=>{this._likeCard(e)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._removeHandler(this._id)})),this._cardImage.addEventListener("click",(e=>{this._onCardClick(e)}))}_showDeleteIcon(){this._owner._id!==this._userId&&this._cardElement.querySelector(".card__delete-button").classList.add("card__delete-button_hidden")}generateCard(){return this._cardElement=this._getTemplate(),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardTitle=this._cardElement.querySelector(".card__title"),this._cardTitle.textContent=this._name,this._cardImage.src=this._link,this._cardImage.alt=`Image of  ${this._name} `,this._renderLikes(),this.showLikes(this._likes.length),this._showDeleteIcon(),this._cardElement.id=this._id,this._setEventListeners(),this._item}}class s{constructor(e){this._modal=e}open(){this._modal.classList.add(".modal_visible"),this.setEventListeners()}close(){this._modal.classList.remove(".modal_visible"),this.removeEventListeners()}_clickEscHandler=e=>{"Escape"===e.key&&this.close()};_clickOnCloseButtonHandler=()=>{this.close()};_clickOnOverlayHandler=e=>{e.target===e.currentTarget&&this.close()};setEventListeners(){this._modal.querySelector(".modal__close-button").addEventListener("click",this._clickOnCloseButtonHandler),this._modal.addEventListener("click",this._clickOnOverlayHandler),document.addEventListener("keydown",this._clickEscHandler)}removeEventListeners(){this._modal.querySelector(".modal__close-button").removeEventListener("click",this._clickOnCloseButtonHandler),this._modal.removeEventListener("click",this._clickOnOverlayHandler),document.removeEventListener("keydown",this._clickEscHandler)}}class o extends s{constructor({modal:e,handleSubmit:t}){super(e),this._handleSubmit=t,this._form=this._modal.querySelector(".modal__container_type_form"),this._formElement=this._modal.querySelectorAll(".modal__input")}_getInputValues(){return this._formInputValues={},inputList.forEach((e=>{this._formInputValues[e.name]=e.value})),inputValues}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",this.handleSubmit)}removeEventListeners(){super.removeEventListeners(),this._form.removeEventListener("submit",this.handleSubmit)}handleSubmit=e=>(e.preventDefault(),this._handleSubmit(this._getInputValues));handleRemove(e){this._handleSubmit=e}close(){super.close(),this._form.reset()}}class n{constructor({items:e,renderer:t},r){this._items=e,this._renderer=t,this._container=document.querySelector(r)}addItem(e){this._container.prepend(e)}clear(){this._container.innerHTML=""}renderItems(){this.clear(),this._items.forEach((e=>{this._renderer(e)}))}}class i{constructor(e,t,r){this._name=e,this._job=t,this._avatar=r}getUserInfo(){return this._userInfo={title:this._name.textContent,job:this._job.textContent}}setUserInfo(e,t,r){this._userInfo={title:e,job:t,userAvatar:r},r?(h.src=this._userInfo.userAvatar,c.textContent=this._userInfo.title,_.textContent=this._userInfo.job):(c.textContent=this._userInfo.title,_.textContent=this._userInfo.job)}}const a=document.querySelector(".profile__edit-button"),l=document.querySelector(".modal_type_edit"),c=document.querySelector(".profile__title"),d=document.querySelector(".modal__input_type_title"),_=document.querySelector(".profile__subtitle"),u=document.querySelector(".modal__input_type_subtitle"),h=(document.querySelector(".modal__close-button_type_edit"),document.querySelector(".profile__image")),m=document.querySelector(".profile__image-edit"),b=document.querySelector(".modal_type_avatar"),v=(b.querySelector(".modal__input_type_avatar"),document.querySelector(".modal__close-button_type_avatar"),document.querySelector(".profile__add-button")),p=document.querySelector(".modal_type_add-card"),f=(document.querySelector(".modal__input_type_name"),document.querySelector(".modal__input_type_link"),document.querySelector(".modal__close-button_type_add-card"),document.forms.add),k=(f.elements.title,f.elements.link,document.querySelector(".modal__submit-button"),document.querySelector(".cards__grid"),document.querySelector(".modal_type_big-image")),E=(document.querySelector(".modal__big-image"),document.querySelector(".modal__image-caption"),document.querySelector(".modal__close-button_type_big-image"),document.querySelector(".modal_type_delete-card")),y={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__submit-button",inactiveButtonClass:"modal__submit-button_disabled",inputErrorClass:"modal__input_error",errorMessageClass:"modal__error_visible"},S=new class extends s{openup=e=>{const t=e.target;this._modalElement.querySelector(".modal__big-image").src=t.src,this._modalElement.querySelector(".modal__big-image").alt=t.alt,this._modalElement.querySelector(".modal__image-caption").textContent=t.alt,this.open()}}(k);S.setEventListeners();const g=new o({modalSelector:E});function L(e,t){t.querySelector(".modal__submit-button").textContent=e?"Saving...":"Save"}g.setEventListeners();const C=new class{constructor({baseUrl:e,headers:t}){this._baseUrl=e,this._headers=t}getCardList(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((function(e){if(e.ok)return e.json().then((e=>e));Promise.reject("Error!"+e.statusText)}))}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}getAppInfo(){return Promise.all([this.getUserInfo(),this.getCardList()])}addCard({name:e,link:t}){return fetch(this._baseUrl+"/cards",{headers:this._headers,method:"POST",body:JSON.stringify({name:e,link:t})}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeCard(e){return fetch(this._baseUrl+"/cards/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}addLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"PUT"}).then((e=>{if(e.ok)return e.json();Promise.reject("Error!"+e.statusText)}))}removeLike(e){return fetch(this._baseUrl+"/cards/likes/"+e,{headers:this._headers,method:"DELETE"}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}setUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText+e.status)))}setUserAvatar({avatar:e}){return fetch(this._baseUrl+"/users/me/avatar",{headers:this._headers,method:"PATCH",body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}updateUserInfo({name:e,job:t}){return fetch(this._baseUrl+"/users/me",{headers:this._headers,method:"PATCH",body:JSON.stringify({name:e,job:t})}).then((e=>e.ok?e.json():Promise.reject("Error!"+e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"709a0d9d-db06-4890-a594-b07e7309a353","Content-Type":"application/json"}});C.getAppInfo().then((([e,t])=>{const s=new n({items:t,renderer:b},".cards__grid");s.renderItems();const m=new o({modalSelector:p,modalSubmition:e=>{L(!0,p),C.addCard(e).then((e=>{console.log(e),b(e),m.close(),L(!1,p)})).catch((e=>console.log(e)))}});function b(t){const o=new r({data:t,handleCardClick:({name:e,link:t})=>{S.open(t,e)},handleDeleteClick:e=>{g.open(e),g.setSubmitHandler((()=>{C.removeCard(e).then((()=>{o.deleteCardModal(),g.close()})).catch((e=>console.log(e)))}))},likeHandler:e=>{n.querySelector(".card__like-button").classList.contains("card__like-button_active")?C.deleteLike(e).then((e=>{n.querySelector(".card__like-button").classList.remove("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))):(o._cardElement.classList.toggle("card__like-button_active"),C.addLike(e).then((e=>{n.querySelector(".card__like-button").classList.add("card__like-button_active"),o.showLikes(e.likes.length),o._likes=e.likes})).catch((e=>console.log(e))))}},e._id,".card__template"),n=o.generateCard();s.addItem(n),L(!0,p)}v.addEventListener("click",(()=>{m.open(),L(!1,p)})),m.setEventListeners();const f=new i(c,_,h);C.getUserInfo().then((e=>{f.setUserInfo(e.name,e.job,e.avatar)}));const k=new o({modalSelector:l,modalSubmition:e=>{L(!0,l),C.setUserInfos({name:e.name,job:e.job}).then((e=>{L(!1,l),f.setUserInfo(e.name,e.job),k.close(),console.log(e)})).catch((e=>console.log(e)))}});k.setEventListeners(),a.addEventListener("click",(()=>{k.open();const e=f.getUserInfo();d.value=e.name,u.value=e.job}))})).catch((e=>console.log(e)));const I=new o({modalSelector:b,modalSubmition:e=>{!function(e){L(!0,b),C.setUserAvatar({avatar:e.avatarURL}).then((e=>{h.src=e.avatar,L(!1,b),I.close()})).catch((e=>console.log(e)))}(e)}});m.addEventListener("click",(()=>{I.open()})),I.setEventListeners(),new t(y,l).enableValidation(),new t(y,b).enableValidation(),new t(y,p).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ2hLLEtBQU1QLEVBQUtPLEtBQU1nRixJQUFJdkYsRUFBS3VGLE1BQzNDdUMsTUFBS0MsSUFDSlYsR0FBYSxFQUFPakIsR0FDcEJpRSxFQUFZdkUsWUFBWWlDLEVBQUl4SCxLQUFNd0gsRUFBSXhDLEtBQ3RDK0UsRUFBWW5ILFFBQ1p1RyxRQUFRQyxJQUFJNUIsTUFFYjZCLE9BQU1DLEdBQU9ILFFBQVFDLElBQUlFLFFBSTlCUyxFQUFZcEgsb0JBRVppRCxFQUFXeEcsaUJBQWlCLFNBQVMsS0FDbkMySyxFQUFZckgsT0FDWixNQUFNdUgsRUFBT0gsRUFBWTFFLGNBQ3pCVSxFQUFVbEMsTUFBUXFHLEVBQUtqSyxLQUN2QitGLEVBQVNuQyxNQUFRcUcsRUFBS2pGLFVBR3pCcUUsT0FBTUMsR0FBT0gsUUFBUUMsSUFBSUUsS0FpQjFCLE1BQU1ZLEVBQWEsSUFBSTlHLEVBQWMsQ0FDbkN5RCxjQUFlWixFQUNmaUQsZUFBaUJ6SixLQWZuQixTQUEwQkEsR0FDeEJxSCxHQUFhLEVBQU1iLEdBQ25CZSxFQUFJMEIsY0FBYyxDQUNoQnpELE9BQVF4RixFQUFLMEssWUFFZDVDLE1BQUtDLElBQ0ovQixFQUFZdEQsSUFBTXFGLEVBQUl2QyxPQUN0QjZCLEdBQWEsRUFBT2IsR0FDcEJpRSxFQUFXdEgsV0FFWnlHLE9BQU1DLEdBQU9ILFFBQVFDLElBQUlFLEtBTXhCYyxDQUFpQjNLLE1BSXJCdUcsRUFBaUI1RyxpQkFBaUIsU0FBUyxLQUN6QzhLLEVBQVd4SCxVQUdid0gsRUFBV3ZILG9CQUltQixJQUFJL0YsRUFBY0UsRUFBWStJLEdBQ3RDeEcsbUJBRU8sSUFBSXpDLEVBQWNFLEVBQVltSixHQUN0QzVHLG1CQUVTLElBQUl6QyxFQUFjRSxFQUFZcUosR0FDdEM5RyxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvc2NyaXB0cy9Nb2RhbFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3NjcmlwdHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL0luZGV4LmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9zY3JpcHRzL0FwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgZGVmaW5pdGlvbikge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmosIHByb3ApIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOyB9IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybUNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2Zvcm1Db25maWcgPSBmb3JtQ29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICB9XHJcblxyXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yTWVzc2FnZUNsYXNzIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgICMke2lucHV0RWxlbWVudC5pZH1fZXJyb3IgYCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChlcnJvck1lc3NhZ2VDbGFzcyk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZChpbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH07XHJcbiAgXHJcbiAgX2hpZGVJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgY29uc3QgeyBpbnB1dEVycm9yQ2xhc3MsIGVycm9yTWVzc2FnZUNsYXNzIH0gPSB0aGlzLl9mb3JtQ29uZmlnO1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgICMke2lucHV0RWxlbWVudC5pZH1fZXJyb3IgYCk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoZXJyb3JNZXNzYWdlQ2xhc3MpO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoaW5wdXRFcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICByZXNldFZhbGlkYXRpb24oKSB7XHJcbiAgICB0aGlzLmlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9KTtcclxuICAgIHRoaXMuX3RvZ2dsZVN1Ym1pdEJ1dHRvbigpO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXQgPSAoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2NoZWNrSWZGb3JtVmFsaWQgPSAoKSA9PiB0aGlzLmlucHV0cy5ldmVyeSgoaW5wdXQpID0+IGlucHV0LnZhbGlkaXR5LnZhbGlkKTtcclxuXHJcbiAgX3RvZ2dsZVN1Ym1pdEJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHsgaW5hY3RpdmVCdXR0b25DbGFzcywgc3VibWl0QnV0dG9uU2VsZWN0b3IgfSA9IHRoaXMuX2Zvcm1Db25maWc7XHJcbiAgICBjb25zdCBidXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcblxyXG4gICAgaWYgKHRoaXMuX2NoZWNrSWZGb3JtVmFsaWQoKSkge1xyXG4gICAgICBidXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShpbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICBidXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQoaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCB7IGlucHV0U2VsZWN0b3IgfSA9IHRoaXMuX2Zvcm1Db25maWc7XHJcbiAgICB0aGlzLmlucHV0cyA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKSk7XHJcblxyXG4gICAgdGhpcy5pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0KGlucHV0KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVTdWJtaXRCdXR0b24oKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0aGlzLl9mb3JtRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRhdGEsIGNhcmRUZW1wbGF0ZSwgdXNlcklkLCBcclxuICAgIHsgb25DYXJkQ2xpY2ssIHJlbW92ZUhhbmRsZXIsIGxpa2VIYW5kbGVyIH1cclxuICApIFxyXG4gIHtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgdGhpcy5fb3duZXJJZCA9IGRhdGEub3duZXIuX2lkO1xyXG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX2NhcmRUZW1wbGF0ZSA9IGNhcmRUZW1wbGF0ZTtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuXHJcbiAgICB0aGlzLl9vbkNhcmRDbGljayA9IG9uQ2FyZENsaWNrO1xyXG4gICAgdGhpcy5fbGlrZUhhbmRsZXIgPSBsaWtlSGFuZGxlcjtcclxuICAgIHRoaXMuX3JlbW92ZUhhbmRsZXIgPSByZW1vdmVIYW5kbGVyO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSB0aGlzLl9jYXJkVGVtcGxhdGVcclxuICAgIC5xdWVyeVNlbGVjdG9yKCcuY2FyZCcpXHJcbiAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGlkKCl7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG4gIC8vIC0tLSBDYXJkIGRlbGV0aW5nIG1ldGhvZCAtLS0gLy9cclxuICBkZWxldGVDYXJkKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICBpZihjYXJkRWxlbWVudCl7XHJcbiAgICAgIGNhcmRFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2FyZEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xyXG4gIH1cclxuXHJcbiAgX3JlbmRlckxpa2VzICgpe1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aGlzLl9saWtlcyk7XHJcbiAgICBpZiAodGhpcy5fbGlrZXMuc29tZSgobGlrZSkgPT4gbGlrZS5faWQgPT09IHRoaXMuX3VzZXJJZCkpIHtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHNob3dMaWtlcyhjb3VudCl7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtY291bnRcIikudGV4dENvbnRlbnQgPSBjb3VudDtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBUb2dnbGUgbGlrZSBidXR0b24gbWV0aG9kIC0tLSAvL1xyXG4gIHVwZGF0ZUxpa2VzKG5ld0xpa2VzKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2VzO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBTZXQgZXZlbnRzIGxpc3RlbmVycyBmb3IgdGhlIGNhcmRzIHRoYXQgd2lsbCBiZSBjcmVhdGVkISAtLS0gLy9cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuX2xpa2VDYXJkKGV2ZW50KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9yZW1vdmVIYW5kbGVyKHRoaXMuX2lkKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgdGhpcy5fb25DYXJkQ2xpY2soZXZlbnQpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0RlbGV0ZUljb24oKSB7XHJcbiAgICBpZih0aGlzLl9vd25lci5faWQgIT09IHRoaXMuX3VzZXJJZCkge1xyXG4gICAgICB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fZGVsZXRlLWJ1dHRvbicpLmNsYXNzTGlzdC5hZGQoJ2NhcmRfX2RlbGV0ZS1idXR0b25faGlkZGVuJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyAtLS0gQ3JlYXRpbmcgdGhlIGNhcmQgYW5kIGNhcmQgZWxlbWVudHMgLS0tIC8vXHJcbiAgZ2VuZXJhdGVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gXCJJbWFnZSBvZiBcIiArIGAgJHt0aGlzLl9uYW1lfSBgO1xyXG4gICAgdGhpcy5fcmVuZGVyTGlrZXMoKTtcclxuICAgIHRoaXMuc2hvd0xpa2VzKHRoaXMuX2xpa2VzLmxlbmd0aCk7XHJcbiAgICB0aGlzLl9zaG93RGVsZXRlSWNvbigpO1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQuaWQgPSB0aGlzLl9pZDtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2l0ZW07XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGFsIHtcclxuICBjb25zdHJ1Y3Rvcihtb2RhbCkge1xyXG4gICAgdGhpcy5fbW9kYWwgPSBtb2RhbDtcclxuICB9XHJcbiAgLy8gLS0tIE9wZW4gbW9kYWwgbWV0aG9kIC0tLSAvLyBcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LmFkZChcIi5tb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgbWV0aG9kIC0tLSAvL1xyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIi5tb2RhbF92aXNpYmxlXCIpO1xyXG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpXHJcbiAgfVxyXG4gIC8vIC0tLSBDbG9zZSBtb2RhbCBvbiBFU0MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja0VzY0hhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyAtLS0gQ2xvc2UgbW9kYWwgb24gY2xvc2UoJ1gnKSBidXR0b24gcHJlc3MgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jbG9zZSgpO1xyXG4gIH07XHJcbiAgLy8gLS0tIENsb3NlIG1vZGFsIG9uIG92ZXJsYXkgbW91c2UgY2xpY2sgbWV0aG9kIC0tLSAvL1xyXG4gIF9jbGlja09uT3ZlcmxheUhhbmRsZXIgPSAoZXZlbnQpID0+IHtcclxuICAgIGlmIChldmVudC50YXJnZXQgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbW9kYWxcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uJylcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tPbkNsb3NlQnV0dG9uSGFuZGxlcik7XHJcbiAgICB0aGlzLl9tb2RhbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2NsaWNrT25PdmVybGF5SGFuZGxlcilcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9jbGlja0VzY0hhbmRsZXIpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9tb2RhbFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b24nKVxyXG4gICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbGlja09uQ2xvc2VCdXR0b25IYW5kbGVyKTtcclxuICAgIHRoaXMuX21vZGFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5fY2xpY2tPbk92ZXJsYXlIYW5kbGVyKVxyXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2NsaWNrRXNjSGFuZGxlcik7XHJcbiAgfVxyXG59IiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhGb3JtIGV4dGVuZHMgTW9kYWwge1xyXG4gIGNvbnN0cnVjdG9yKHttb2RhbCwgaGFuZGxlU3VibWl0fSkge1xyXG4gICAgc3VwZXIobW9kYWwpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX21vZGFsLnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY29udGFpbmVyX3R5cGVfZm9ybScpO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9tb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcubW9kYWxfX2lucHV0Jyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtSW5wdXRWYWx1ZXMgPSB7fTtcclxuICAgIGlucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtSW5wdXRWYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBpbnB1dFZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVTdWJtaXQpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5yZW1vdmVFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLmhhbmRsZVN1Ym1pdCk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVTdWJtaXQgPSAoZXZlbnQpID0+e1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGlucHV0VmFsdWVzID0gdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKTtcclxuXHJcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVSZW1vdmUoaGFuZGxlKSB7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGU7XHJcbiAgfVxyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgY2xlYXIgKCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICB0aGlzLmNsZWFyKCk7XHJcbiAgICBcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGNhcmQpID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoY2FyZCk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHtwcm9maWxlTmFtZSwgcHJvZmlsZUpvYiwgYXZhdGFySW1hZ2V9IGZyb20gJy4uLy4uL3BhZ2VzL0luZGV4LmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3RvcihuYW1lLCBqb2IsIGF2YXRhcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9qb2IgPSBqb2I7XHJcbiAgICB0aGlzLl9hdmF0YXIgPSBhdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiAodGhpcy5fdXNlckluZm8gPSB7XHJcbiAgICAgIHRpdGxlOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyh0aXRsZSwgam9iLCB1c2VyQXZhdGFyKSB7XHJcbiAgICB0aGlzLl91c2VySW5mbyA9IHsgdGl0bGUsIGpvYiwgdXNlckF2YXRhciB9O1xyXG4gICAgaWYgKHVzZXJBdmF0YXIpIHtcclxuICAgICAgYXZhdGFySW1hZ2Uuc3JjID0gdGhpcy5fdXNlckluZm8udXNlckF2YXRhcjtcclxuICAgICAgcHJvZmlsZU5hbWUudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby50aXRsZTtcclxuICAgICAgcHJvZmlsZUpvYi50ZXh0Q29udGVudCA9IHRoaXMuX3VzZXJJbmZvLmpvYjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdGhpcy5fdXNlckluZm8udGl0bGU7XHJcbiAgICAgIHByb2ZpbGVKb2IudGV4dENvbnRlbnQgPSB0aGlzLl91c2VySW5mby5qb2I7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiIsIi8vIC0tLSAnRWRpdCBwcm9maWxlJyBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xyXG5leHBvcnQgY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19pbnB1dF90eXBlX3RpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBqb2JJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV9zdWJ0aXRsZScpO1xyXG5leHBvcnQgY29uc3QgZWRpdENsb3NlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19jbG9zZS1idXR0b25fdHlwZV9lZGl0Jyk7XHJcbi8vIC0tLSAnQXZhdGFyXCIgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYXZhdGFySW1hZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW1hZ2UtZWRpdCcpO1xyXG5leHBvcnQgY29uc3QgYXZhdGFyTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhck1vZGFsSW5wdXQgPSBhdmF0YXJNb2RhbC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfYXZhdGFyJyk7XHJcbmV4cG9ydCBjb25zdCBhdmF0YXJDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfYXZhdGFyJylcclxuLy8gLS0tICdBZGQtY2FyZCcgbW9kYWwgY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9hZGQtY2FyZCcpO1xyXG5leHBvcnQgY29uc3QgY2FyZElucHV0VGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3QgY2FyZElucHV0TGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9faW5wdXRfdHlwZV9saW5rJyk7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkQ2xvc2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2Nsb3NlLWJ1dHRvbl90eXBlX2FkZC1jYXJkJyk7XHJcbi8vIC0tLSAnQWRkLUNhcmQnIGZvcm0gY29uc3RzIC0tLSAvL1xyXG5leHBvcnQgY29uc3QgYWRkQ2FyZEZvcm0gPSBkb2N1bWVudC5mb3Jtcy5hZGQ7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybVRpdGVsID0gYWRkQ2FyZEZvcm0uZWxlbWVudHMudGl0bGU7XHJcbmV4cG9ydCBjb25zdCBhZGRDYXJkRm9ybUxpbmsgPSBhZGRDYXJkRm9ybS5lbGVtZW50cy5saW5rO1xyXG4vLyAtLS0gR2VuZXJhbCBjb25zdCAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fc3VibWl0LWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgY2FyZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZHNfX2dyaWQnKTtcclxuLy8gLS0tIEJpZyBpbWFnZSBtb2RhbCBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBjYXJkQmlnTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfdHlwZV9iaWctaW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRCaWdNb2RhbEltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsX19iaWctaW1hZ2UnKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRCaWdNb2RhbFRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2ltYWdlLWNhcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRCaWdNb2RhbENsb3NlSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbF9fY2xvc2UtYnV0dG9uX3R5cGVfYmlnLWltYWdlJyk7XHJcbi8vIC0tLSAnRGVsZXRlIGNhcmQnIG1vZGFsIGNvbnN0cyAtLS0gLy9cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX3R5cGVfZGVsZXRlLWNhcmRcIik7XHJcbi8vIC0tLSBGb3JtIGNvbmZpZyBjb25zdHMgLS0tIC8vXHJcbmV4cG9ydCBjb25zdCBmb3JtQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2NvbnRhaW5lclwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X2Vycm9yXCIsXHJcbiAgZXJyb3JNZXNzYWdlQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIlxyXG59O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBNb2RhbFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL01vZGFsV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBNb2RhbFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvTW9kYWxXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL3NjcmlwdHMvQXBpLmpzXCJcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvc2NyaXB0cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9zY3JpcHRzL1VzZXJJbmZvLmpzXCI7XHJcbmltcG9ydCB7XHJcbiAgcHJvZmlsZU5hbWUsXHJcbiAgbmFtZUlucHV0LFxyXG4gIHByb2ZpbGVKb2IsXHJcbiAgam9iSW5wdXQsXHJcbiAgZWRpdEJ1dHRvbixcclxuICBwcm9maWxlTW9kYWwsXHJcbiAgYWRkQ2FyZEJ1dHRvbixcclxuICBhZGRDYXJkTW9kYWwsXHJcbiAgYXZhdGFyTW9kYWwsXHJcbiAgYXZhdGFySW1hZ2UsXHJcbiAgYXZhdGFyRWRpdEJ1dHRvbixcclxuICBjYXJkQmlnTW9kYWwsXHJcbiAgZGVsZXRlQ2FyZCxcclxuICBmb3JtQ29uZmlnXHJcbn0gZnJvbSBcIi4uL2NvbXBvbmVudHMvdXRpbHMvY29uc3RhbnRzLmpzXCI7XHJcblxyXG4vLyA9PT09PSBNb2RhbHMgPT09PT0gLy9cclxuLy8gLS0tIEJpZyBpbWFnZSBtb2RhbCBpbnN0YW5jZSAtLS0gLy9cclxuY29uc3QgYmlnSW1hZ2UgPSBuZXcgTW9kYWxXaXRoSW1hZ2UoY2FyZEJpZ01vZGFsKTtcclxuYmlnSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gLS0tIERlbGV0ZSBjYXJkIG1vZGFsIGluc3RhbmNlIGFuZCBldmVudHMgLS0tIC8vXHJcbmNvbnN0IGRlbGV0ZUNhcmRNb2RhbCA9IG5ldyBNb2RhbFdpdGhGb3JtKHtcclxuICBtb2RhbFNlbGVjdG9yOiBkZWxldGVDYXJkXHJcbn0pO1xyXG5kZWxldGVDYXJkTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuLy8gLS0tIFVYIGZvciBtb2RhbHMgLS0tIC8vXHJcbmZ1bmN0aW9uIGxvYWRpbmdNb2RhbChpc0xvYWRpbmcsIG1vZGFsKSB7XHJcbiAgaWYgKGlzTG9hZGluZykgeyBtb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zdWJtaXQtYnV0dG9uXCIpLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjsgfSBcclxuICBlbHNlIHsgbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fc3VibWl0LWJ1dHRvblwiKS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiOyB9XHJcbn1cclxuXHJcbi8vID09PT09IEFQSSA9PT09PSAvL1xyXG4vLyAtLS0gU2V0dGluZyB0aGUgZGVmYXVsdCBmZXRjaGluZyB1cmwgYW5kIHRva2VuIC0tLSAvL1xyXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvZ3JvdXAtMTJcIixcclxuICBoZWFkZXJzOiBcclxuICB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcIjcwOWEwZDlkLWRiMDYtNDg5MC1hNTk0LWIwN2U3MzA5YTM1M1wiLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyBcclxuICB9XHJcbn0pO1xyXG4vLyAtLS0gR2V0QXBwSW5mbyBtZXRob2QgLS0tIC8vXHJcbmFwaS5nZXRBcHBJbmZvKCkudGhlbigoW3VzZXJEYXRhLCBjYXJkTGlzdERhdGFdKSA9PiB7XHJcbiAgLy8gLS0tIENhcmRzIHNlY3Rpb24gY3JlYXRpb24gLS0tIC8vXHJcbiAgY29uc3QgY2FyZHNMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gICAgaXRlbXM6IGNhcmRMaXN0RGF0YSxcclxuICAgIHJlbmRlcmVyOiBhZGRpbmdOZXdDYXJkXHJcbiAgfSwgJy5jYXJkc19fZ3JpZCcpXHJcbiAgLy8gLS0tIFJlbmRlciBjYXJkcyAtLS0gLy9cclxuICBjYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcclxuICAvLyAtLS0gJ0FkZCBuZXcgY2FyZCcgbW9kYWwgaW5zdGFuY2UgLS0tIC8vXHJcbiAgY29uc3QgYWRkTmV3Q2FyZE1vZGFsID0gbmV3IE1vZGFsV2l0aEZvcm0oe1xyXG4gICAgbW9kYWxTZWxlY3RvcjogYWRkQ2FyZE1vZGFsLFxyXG4gICAgbW9kYWxTdWJtaXRpb246IChkYXRhKSA9PiB7XHJcbiAgICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBhZGRDYXJkTW9kYWwpO1xyXG4gICAgICBhcGlcclxuICAgICAgICAuYWRkQ2FyZChkYXRhKVxyXG4gICAgICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICAgICAgICBhZGRpbmdOZXdDYXJkKHJlcyk7XHJcbiAgICAgICAgICBhZGROZXdDYXJkTW9kYWwuY2xvc2UoKTtcclxuICAgICAgICAgIGxvYWRpbmdNb2RhbChmYWxzZSwgYWRkQ2FyZE1vZGFsKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgIH0sXHJcbiAgfSk7XHJcbiAgLy8gLS0tIEFkZCBjYXJkIGJ1dHRvbiBmdW5jdGlvbmFsIGFkZGluZyAtLS0gLy9cclxuICBhZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhZGROZXdDYXJkTW9kYWwub3BlbigpO1xyXG4gICAgbG9hZGluZ01vZGFsKGZhbHNlLCBhZGRDYXJkTW9kYWwpO1xyXG4gIH0pO1xyXG4gIGFkZE5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIC8vIC0tLSBOZXcgY2FyZCBhZGRpbmcgLS0tIC8vXHJcbiAgZnVuY3Rpb24gYWRkaW5nTmV3Q2FyZChkYXRhKXtcclxuICAgIGNvbnN0IGNhcmRJbnN0YW5jZSA9IG5ldyBDYXJkKHtkYXRhLFxyXG4gICAgICBoYW5kbGVDYXJkQ2xpY2s6ICh7bmFtZSwgbGlua30pID0+IHtcclxuICAgICAgICBiaWdJbWFnZS5vcGVuKGxpbmssIG5hbWUpfSxcclxuICAgICAgaGFuZGxlRGVsZXRlQ2xpY2s6IChjYXJkSWQpID0+IHtcclxuICAgICAgICBkZWxldGVDYXJkTW9kYWwub3BlbihjYXJkSWQpO1xyXG4gICAgICAgIGRlbGV0ZUNhcmRNb2RhbC5zZXRTdWJtaXRIYW5kbGVyKCgpID0+IHtcclxuICAgICAgICAgIGFwaS5yZW1vdmVDYXJkKGNhcmRJZClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIGNhcmRJbnN0YW5jZS5kZWxldGVDYXJkTW9kYWwoKTtcclxuICAgICAgICAgICAgICBkZWxldGVDYXJkTW9kYWwuY2xvc2UoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSxcclxuICAgICAgbGlrZUhhbmRsZXI6IChjYXJkSWQpID0+e1xyXG4gICAgICAgIGlmKGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLWJ1dHRvbicpLmNsYXNzTGlzdC5jb250YWlucygnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJykpIHtcclxuICAgICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRJZCkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgICAgICAgY2FyZEluc3RhbmNlLnNob3dMaWtlcyhyZXMubGlrZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2UuX2xpa2VzID0gcmVzLmxpa2VzOyB9KVxyXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNhcmRJbnN0YW5jZS5fY2FyZEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcclxuICAgICAgICAgIGFwaS5hZGRMaWtlKGNhcmRJZCkudGhlbihyZXMgPT4ge1xyXG4gICAgICAgICAgICBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKS5jbGFzc0xpc3QuYWRkKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgICAgICAgICAgY2FyZEluc3RhbmNlLnNob3dMaWtlcyhyZXMubGlrZXMubGVuZ3RoKVxyXG4gICAgICAgICAgICBjYXJkSW5zdGFuY2UuX2xpa2VzID0gcmVzLmxpa2VzO30pXHJcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXNlckRhdGEuX2lkLCcuY2FyZF9fdGVtcGxhdGUnKVxyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkSW5zdGFuY2UuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgICBjYXJkc0xpc3QuYWRkSXRlbShjYXJkRWxlbWVudClcclxuICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBhZGRDYXJkTW9kYWwpO1xyXG4gIH1cclxuICAvLyAtLS0gJ1Byb2ZpbGUnIGluZm8gZWRpdGluZyAtLS0gLy9cclxuICBjb25zdCBwcm9maWxlSW5mbyA9IG5ldyBVc2VySW5mbyggcHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIGF2YXRhckltYWdlKTtcclxuICAvLyAtLS0gRmV0Y2hpbmcgYW5kIHNldHRpbmcgdXNlciBwcm9maWxlIGluZm8gLS0tIC8vXHJcbiAgYXBpLmdldFVzZXJJbmZvKCkudGhlbihyZXMgPT4ge1xyXG4gICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8oIHJlcy5uYW1lLCByZXMuam9iLCByZXMuYXZhdGFyKVxyXG4gIH0pXHJcbiAgY29uc3QgcHJvZmlsZUZvcm0gPSBuZXcgTW9kYWxXaXRoRm9ybSh7XHJcbiAgICBtb2RhbFNlbGVjdG9yOiBwcm9maWxlTW9kYWwsIFxyXG4gICAgbW9kYWxTdWJtaXRpb246IChkYXRhKSA9PiB7XHJcbiAgICAgIGxvYWRpbmdNb2RhbCh0cnVlLCBwcm9maWxlTW9kYWwpO1xyXG4gICAgICBhcGkuc2V0VXNlckluZm9zKHtuYW1lOiBkYXRhLm5hbWUsIGpvYjpkYXRhLmpvYn0pXHJcbiAgICAgIC50aGVuKHJlcyA9PiB7XHJcbiAgICAgICAgbG9hZGluZ01vZGFsKGZhbHNlLCBwcm9maWxlTW9kYWwpXHJcbiAgICAgICAgcHJvZmlsZUluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5qb2IpXHJcbiAgICAgICAgcHJvZmlsZUZvcm0uY2xvc2UoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhyZXMpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSlcclxuICAgIH1cclxuICB9KVxyXG4gIC8vIC0tLSAnUHJvZmlsZScgZm9ybSBoYW5kbGVyIC0tLSAvL1xyXG4gIHByb2ZpbGVGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgLy8gLS0tIE9wZW4gJ1Byb2ZpbGUnIGZvcm0gd2l0aCBjdXJyZW50IHZhbHVlcyBhcyBpbnB1dHMgLS0tIC8vXHJcbiAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIHByb2ZpbGVGb3JtLm9wZW4oKTtcclxuICAgIGNvbnN0IHVzZXIgPSBwcm9maWxlSW5mby5nZXRVc2VySW5mbygpO1xyXG4gICAgbmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xyXG4gICAgam9iSW5wdXQudmFsdWUgPSB1c2VyLmpvYjtcclxuICB9KVxyXG59KVxyXG4uY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpO1xyXG5cclxuLy8gPT09PT0gQXZhdGFyID09PT09IC8vXHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGZ1bmN0aW9uYWwgLS0tIC8vXHJcbmZ1bmN0aW9uIGhhbmRsZUF2YXRhckVkaXQoZGF0YSkge1xyXG4gIGxvYWRpbmdNb2RhbCh0cnVlLCBhdmF0YXJNb2RhbCk7XHJcbiAgYXBpLnNldFVzZXJBdmF0YXIoe1xyXG4gICAgYXZhdGFyOiBkYXRhLmF2YXRhclVSTFxyXG4gIH0pXHJcbiAgLnRoZW4ocmVzID0+IHtcclxuICAgIGF2YXRhckltYWdlLnNyYyA9IHJlcy5hdmF0YXI7XHJcbiAgICBsb2FkaW5nTW9kYWwoZmFsc2UsIGF2YXRhck1vZGFsKTtcclxuICAgIGVkaXRBdmF0YXIuY2xvc2UoKTtcclxuICB9KVxyXG4gIC5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7XHJcbn1cclxuLy8gLS0tICdBdmF0YXInIGZvcm0gY3JlYXRpb24gLS0tIC8vXHJcbmNvbnN0IGVkaXRBdmF0YXIgPSBuZXcgTW9kYWxXaXRoRm9ybSh7XHJcbiAgbW9kYWxTZWxlY3RvcjogYXZhdGFyTW9kYWwsXHJcbiAgbW9kYWxTdWJtaXRpb246IChkYXRhKSA9PiB7XHJcbiAgICBoYW5kbGVBdmF0YXJFZGl0KGRhdGEpXHJcbiAgfVxyXG59KTtcclxuLy8gLS0tIE9wZW4gYXZhdGFyIGVkaXQgbW9kYWwgb24gY2xpY2sgLS0tIC8vXHJcbmF2YXRhckVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBlZGl0QXZhdGFyLm9wZW4oKTtcclxufSk7XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIGhhbmRsZXIgLS0tIC8vXHJcbmVkaXRBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbi8vID09PT09IFZhbGlkYXRpb24gPT09PT0gLy9cclxuLy8gLS0tICdFZGl0IHByb2ZpbGUnIGZvcm0gdmFsaWRhdGlvbiBhZGRpbmcgLS0tIC8vXHJcbmNvbnN0IHByb2ZpbGVGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIHByb2ZpbGVNb2RhbCk7XHJcbnByb2ZpbGVGb3JtVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbi8vIC0tLSAnQXZhdGFyJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKGZvcm1Db25maWcsIGF2YXRhck1vZGFsKTtcclxuYXZhdGFyRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4vLyAtLS0gJ0FkZCBjYXJkJyBmb3JtIHZhbGlkYXRpb24gYWRkaW5nIC0tLSAvL1xyXG5jb25zdCBhZGRDYXJkRm9ybVZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihmb3JtQ29uZmlnLCBhZGRDYXJkTW9kYWwpO1xyXG5hZGRDYXJkRm9ybVZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuZXhwb3J0IHsgcHJvZmlsZU5hbWUsIHByb2ZpbGVKb2IsIGJpZ0ltYWdlLCBhdmF0YXJJbWFnZSB9IiwiaW1wb3J0IE1vZGFsIGZyb20gXCIuL01vZGFsLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb2RhbFdpdGhJbWFnZSBleHRlbmRzIE1vZGFsIHtcclxuICAvLyAtLS0gT3BlbiBiaWcgaW1hZ2UgbW9kYWwgbWV0aG9kIC0tLSAvL1xyXG4gIG9wZW51cCA9IChldmVudCkgPT4ge1xyXG4gICAgY29uc3QgYmlnSW1hZ2UgPSBldmVudC50YXJnZXQ7XHJcbiAgICB0aGlzLl9tb2RhbEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYmlnLWltYWdlXCIpLnNyYyA9IGJpZ0ltYWdlLnNyYztcclxuICAgIHRoaXMuX21vZGFsRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19iaWctaW1hZ2VcIikuYWx0ID0gYmlnSW1hZ2UuYWx0O1xyXG4gICAgdGhpcy5fbW9kYWxFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIikudGV4dENvbnRlbnQgPSBiaWdJbWFnZS5hbHQ7XHJcblxyXG4gICAgdGhpcy5vcGVuKCk7XHJcbiAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xyXG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVycztcclxuICB9XHJcblxyXG4gIC8vID09PSBHZXR0aW5nIGluZm8gZnJvbSBzZXJ2ZXIgPT09IC8vXHJcbiAgLy8gLS0tIEdldCBjYXJkIGxpc3QgZnJvbSB0aGUgc2VydmVyIC0tLSAvL1xyXG4gIGdldENhcmRMaXN0KCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICB9KVxyXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG4gIC8vIC0tLSBHZXQgdXNlciBpbmZvIGZyb20gdGhlIHNlcnZlciAtLS0gLy9cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PlxyXG4gICAgICAgICAgcmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KFwiRXJyb3IhXCIgKyByZXMuc3RhdHVzVGV4dClcclxuICAgICAgICApXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gQ2hlY2sgaWYgYWxsIGluZm8gZmV0Y2hlZCAtLS0gLy9cclxuICBnZXRBcHBJbmZvKCkge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFt0aGlzLmdldFVzZXJJbmZvKCksIHRoaXMuZ2V0Q2FyZExpc3QoKV0pO1xyXG4gIH1cclxuXHJcbiAgLy8gPT09IEFkZGluZy9SZW1vdmluZy9FZGl0aW5nID09PSAvL1xyXG4gIC8vIC0tLSBBZGRpbmcgbmV3IGNhcmQgLS0tIC8vXHJcbiAgYWRkQ2FyZCh7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gLS0tIFJlbW92aW5nIGEgY2FyZCAtLS0gLy9cclxuICByZW1vdmVDYXJkKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkcy9cIiArIGNhcmRJZCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXHJcbiAgICB9KS50aGVuKChyZXMpID0+XHJcbiAgICAgIHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpXHJcbiAgICApO1xyXG4gIH1cclxuICAvLyAtLS0gTGlrZSBhIGNhcmQgLS0tIC8vXHJcbiAgYWRkTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvbGlrZXMvXCIgKyBjYXJkSWQsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGlmIChyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgLy8gLS0tIFVubGlrZSBhIGNhcmQgLS0tIC8vXHJcbiAgcmVtb3ZlTGlrZShjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvbGlrZXMvXCIgKyBjYXJkSWQsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIFNldHRpbmcgdXNlciBwcm9maWxlIGluZm8gLS0tIC8vXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBqb2IsXHJcbiAgICAgICAgfSksXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIHJlcy5va1xyXG4gICAgICAgICAgICA/IHJlcy5qc29uKClcclxuICAgICAgICAgICAgOiBQcm9taXNlLnJlamVjdChcIkVycm9yIVwiICsgcmVzLnN0YXR1c1RleHQgKyByZXMuc3RhdHVzKTtcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIFNldHRpbmcgdXNlciBwcm9maWxlIGF2YXRhciAtLS0gLy9cclxuICBzZXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWUvYXZhdGFyXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PlxyXG4gICAgICByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KVxyXG4gICAgKTtcclxuICB9XHJcbiAgLy8gLS0tIFVwZGF0aW5nL0VkaXRpbmcgdXNlciBwcm9maWxlIGluZm8gLS0tIC8vXHJcbiAgdXBkYXRlVXNlckluZm8oeyBuYW1lLCBqb2IgfSkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZVwiLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBqb2IsXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHJldHVybiByZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QoXCJFcnJvciFcIiArIHJlcy5zdGF0dXNUZXh0KTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJGb3JtVmFsaWRhdG9yIiwiY29uc3RydWN0b3IiLCJmb3JtQ29uZmlnIiwiZm9ybUVsZW1lbnQiLCJ0aGlzIiwiX2Zvcm1Db25maWciLCJfZm9ybUVsZW1lbnQiLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvck1lc3NhZ2VDbGFzcyIsImVycm9yRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsInRleHRDb250ZW50IiwiY2xhc3NMaXN0IiwiYWRkIiwiX2hpZGVJbnB1dEVycm9yIiwicmVtb3ZlIiwicmVzZXRWYWxpZGF0aW9uIiwiaW5wdXRzIiwiZm9yRWFjaCIsImlucHV0IiwiX3RvZ2dsZVN1Ym1pdEJ1dHRvbiIsIl9jaGVja0lucHV0IiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2NoZWNrSWZGb3JtVmFsaWQiLCJldmVyeSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImJ1dHRvbkVsZW1lbnQiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImlucHV0U2VsZWN0b3IiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZVZhbGlkYXRpb24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiQ2FyZCIsImRhdGEiLCJjYXJkVGVtcGxhdGUiLCJ1c2VySWQiLCJvbkNhcmRDbGljayIsInJlbW92ZUhhbmRsZXIiLCJsaWtlSGFuZGxlciIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlcyIsImxpa2VzIiwiX293bmVySWQiLCJvd25lciIsIl9pZCIsIl9jYXJkVGVtcGxhdGUiLCJfdXNlcklkIiwiX29uQ2FyZENsaWNrIiwiX2xpa2VIYW5kbGVyIiwiX3JlbW92ZUhhbmRsZXIiLCJfZ2V0VGVtcGxhdGUiLCJjbG9uZU5vZGUiLCJkZWxldGVDYXJkIiwiY2FyZEVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiX2NhcmRFbGVtZW50IiwiX3JlbmRlckxpa2VzIiwic29tZSIsImxpa2UiLCJzaG93TGlrZXMiLCJjb3VudCIsInVwZGF0ZUxpa2VzIiwibmV3TGlrZXMiLCJfbGlrZUNhcmQiLCJfY2FyZEltYWdlIiwiX3Nob3dEZWxldGVJY29uIiwiX293bmVyIiwiZ2VuZXJhdGVDYXJkIiwiX2NhcmRUaXRsZSIsInNyYyIsImFsdCIsImxlbmd0aCIsIl9pdGVtIiwiTW9kYWwiLCJtb2RhbCIsIl9tb2RhbCIsIm9wZW4iLCJzZXRFdmVudExpc3RlbmVycyIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJfY2xpY2tFc2NIYW5kbGVyIiwiX2NsaWNrT25DbG9zZUJ1dHRvbkhhbmRsZXIiLCJfY2xpY2tPbk92ZXJsYXlIYW5kbGVyIiwidGFyZ2V0IiwiY3VycmVudFRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJNb2RhbFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJfZm9ybUlucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwidmFsdWUiLCJpbnB1dFZhbHVlcyIsImhhbmRsZVJlbW92ZSIsImhhbmRsZSIsInJlc2V0IiwiU2VjdGlvbiIsIml0ZW1zIiwicmVuZGVyZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjbGVhciIsImlubmVySFRNTCIsInJlbmRlckl0ZW1zIiwiY2FyZCIsIlVzZXJJbmZvIiwiam9iIiwiYXZhdGFyIiwiX2pvYiIsIl9hdmF0YXIiLCJnZXRVc2VySW5mbyIsIl91c2VySW5mbyIsInRpdGxlIiwic2V0VXNlckluZm8iLCJ1c2VyQXZhdGFyIiwiYXZhdGFySW1hZ2UiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVKb2IiLCJlZGl0QnV0dG9uIiwicHJvZmlsZU1vZGFsIiwibmFtZUlucHV0Iiwiam9iSW5wdXQiLCJhdmF0YXJFZGl0QnV0dG9uIiwiYXZhdGFyTW9kYWwiLCJhZGRDYXJkQnV0dG9uIiwiYWRkQ2FyZE1vZGFsIiwiYWRkQ2FyZEZvcm0iLCJmb3JtcyIsImNhcmRCaWdNb2RhbCIsImVsZW1lbnRzIiwiZm9ybVNlbGVjdG9yIiwiYmlnSW1hZ2UiLCJvcGVudXAiLCJfbW9kYWxFbGVtZW50IiwiZGVsZXRlQ2FyZE1vZGFsIiwibW9kYWxTZWxlY3RvciIsImxvYWRpbmdNb2RhbCIsImlzTG9hZGluZyIsImFwaSIsImJhc2VVcmwiLCJoZWFkZXJzIiwiX2Jhc2VVcmwiLCJfaGVhZGVycyIsImdldENhcmRMaXN0IiwiZmV0Y2giLCJ0aGVuIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1c1RleHQiLCJnZXRBcHBJbmZvIiwiYWxsIiwiYWRkQ2FyZCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlQ2FyZCIsImNhcmRJZCIsImFkZExpa2UiLCJyZW1vdmVMaWtlIiwic3RhdHVzIiwic2V0VXNlckF2YXRhciIsInVwZGF0ZVVzZXJJbmZvIiwiYXV0aG9yaXphdGlvbiIsInVzZXJEYXRhIiwiY2FyZExpc3REYXRhIiwiY2FyZHNMaXN0IiwiYWRkaW5nTmV3Q2FyZCIsImFkZE5ld0NhcmRNb2RhbCIsIm1vZGFsU3VibWl0aW9uIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZXJyIiwiY2FyZEluc3RhbmNlIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsZXRlQ2xpY2siLCJzZXRTdWJtaXRIYW5kbGVyIiwiY29udGFpbnMiLCJkZWxldGVMaWtlIiwidG9nZ2xlIiwicHJvZmlsZUluZm8iLCJwcm9maWxlRm9ybSIsInNldFVzZXJJbmZvcyIsInVzZXIiLCJlZGl0QXZhdGFyIiwiYXZhdGFyVVJMIiwiaGFuZGxlQXZhdGFyRWRpdCJdLCJzb3VyY2VSb290IjoiIn0=